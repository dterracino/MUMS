(function(y){var P=y.fn.domManip,B="_tmplitem",O=/^[^<]*(<[\w\W]+>)[^>]*$|\{\{\! /,z={},D={},C,N={key:0,data:{}},G=0,A=0,J=[];function E(i,b,j,f){var a={data:f||(f===0||f===false)?f:b?b.data:{},_wrap:b?b._wrap:null,tmpl:null,parent:b||null,nodes:[],calls:S,nest:U,wrap:V,html:T,update:R};i&&y.extend(a,i,{nodes:[],parent:b});if(j){a.tmpl=j;a._ctnt=a._ctnt||a.tmpl(y,a);a.key=++G;(J.length?D:z)[G]=a}return a}y.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(b,a){y.fn[b]=function(r){var c=[],e=y(r),o,d,q,p,f=this.length===1&&this[0].parentNode;C=z||{};if(f&&f.nodeType===11&&f.childNodes.length===1&&e.length===1){e[a](this[0]);c=this}else{for(d=0,q=e.length;d<q;d++){A=d;o=(d>0?this.clone(true):this).get();y(e[d])[a](o);c=c.concat(o)}A=0;c=this.pushStack(c,b,e.selector)}p=C;C=null;y.tmpl.complete(p);return c}});y.fn.extend({tmpl:function(f,e,a){return y.tmpl(this[0],f,e,a)},tmplItem:function(){return y.tmplItem(this[0])},template:function(a){return y.template(a,this[0])},domManip:function(a,p,o){if(a[0]&&y.isArray(a[0])){var c=y.makeArray(arguments),e=a[0],n=e.length,l=0,b;while(l<n&&!(b=y.data(e[l++],"tmplItem"))){}if(b&&A){c[2]=function(d){y.tmpl.afterManip(this,d,o)}}P.apply(this,c)}else{P.apply(this,arguments)}A=0;!C&&y.tmpl.complete(z);return this}});y.extend({tmpl:function(b,g,f,a){var j,l=!a;if(l){a=N;b=y.template[b]||y.template(null,b);D={}}else{if(!b){b=a.tmpl;z[a.key]=a;a.nodes=[];a.wrapped&&L(a,a.wrapped);return y(H(a,null,a.tmpl(y,a)))}}if(!b){return[]}if(typeof g==="function"){g=g.call(a||{})}f&&f.wrapped&&L(f,f.wrapped);j=y.isArray(g)?y.map(g,function(c){return c?E(f,a,b,c):null}):[E(f,a,b,g)];return l?y(H(a,null,j)):j},tmplItem:function(a){var d;if(a instanceof y){a=a[0]}while(a&&a.nodeType===1&&!(d=y.data(a,"tmplItem"))&&(a=a.parentNode)){}return d||N},template:function(d,a){if(a){if(typeof a==="string"){a=M(a)}else{if(a instanceof y){a=a[0]||{}}}if(a.nodeType){a=y.data(a,"tmpl")||y.data(a,"tmpl",M(a.innerHTML))}return typeof d==="string"?(y.template[d]=a):a}return d?typeof d!=="string"?y.template(null,d):y.template[d]||y.template(null,O.test(d)?d:y(d)):null},encode:function(b){return(""+b).split("<").join("&lt;").split(">").join("&gt;").split('"').join("&#34;").split("'").join("&#39;")}});y.extend(y.tmpl,{tag:{tmpl:{_default:{$2:"null"},open:"if($notnull_1){__=__.concat($item.nest($1,$2));}"},wrap:{_default:{$2:"null"},open:"$item.calls(__,$1,$2);__=[];",close:"call=$item.calls();__=call._.concat($item.wrap(call,__));"},each:{_default:{$2:"$index, $value"},open:"if($notnull_1){$.each($1a,function($2){with(this){",close:"}});}"},"if":{open:"if(($notnull_1) && $1a){",close:"}"},"else":{_default:{$1:"true"},open:"}else if(($notnull_1) && $1a){"},html:{open:"if($notnull_1){__.push($1a);}"},"=":{_default:{$1:"$data"},open:"if($notnull_1){__.push($.encode($1a));}"},"!":{open:""}},complete:function(){z={}},afterManip:function(h,a,c){var g=a.nodeType===11?y.makeArray(a.childNodes):a.nodeType===1?[a]:[];c.call(h,a);K(g);A++}});function H(h,j,i){var a,d=i?y.map(i,function(b){return typeof b==="string"?h.key?b.replace(/(<\w+)(?=[\s>])(?![^>]*_tmplitem)([^>]*)/g,"$1 "+B+'="'+h.key+'" $2'):b:H(b,h,b._ctnt)}):h;if(j){return d}d=d.join("");d.replace(/^\s*([^<\s][^<]*)?(<[\w\W]+>)([^>]*[^>\s])?\s*$/,function(l,b,k,g){a=y(k).get();K(a);if(b){a=I(b).concat(a)}if(g){a=a.concat(I(g))}});return a?a:I(d)}function I(d){var a=document.createElement("div");a.innerHTML=d;return y.makeArray(a.childNodes)}function M(a){return new Function("jQuery","$item","var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('"+y.trim(a).replace(/([\\'])/g,"\\$1").replace(/[\r\t\n]/g," ").replace(/\$\{([^\}]*)\}/g,"{{= $1}}").replace(/\{\{(\/?)(\w+|.)(?:\(((?:[^\}]|\}(?!\}))*?)?\))?(?:\s+(.*?)?)?(\(((?:[^\}]|\}(?!\}))*?)\))?\s*\}\}/g,function(w,v,u,r,h,n,o){var t=y.tmpl.tag[u],s,p,q;if(!t){throw"Unknown template tag: "+u}s=t._default||[];if(n&&!/\w$/.test(h)){h+=n;n=""}if(h){h=F(h);o=o?","+F(o)+")":n?")":"";p=n?h.indexOf(".")>-1?h+F(n):"("+h+").call($item"+o:h;q=n?p:"(typeof("+h+")==='function'?("+h+").call($item):("+h+"))"}else{q=p=s.$1||"null"}r=F(r);return"');"+t[v?"close":"open"].split("$notnull_1").join(h?"typeof("+h+")!=='undefined' && ("+h+")!=null":"true").split("$1a").join(q).split("$1").join(p).split("$2").join(r||s.$2||"")+"__.push('"})+"');}return __;")}function L(d,a){d._wrap=H(d,true,y.isArray(a)?a:[O.test(a)?a:y(a).html()]).join("")}function F(b){return b?b.replace(/\\'/g,"'").replace(/\\\\/g,"\\"):null}function Q(d){var c=document.createElement("div");c.appendChild(d.cloneNode(true));return c.innerHTML}function K(q){var i="_"+A,d,c,f={},a,r,b;for(a=0,r=q.length;a<r;a++){if((d=q[a]).nodeType!==1){continue}c=d.getElementsByTagName("*");for(b=c.length-1;b>=0;b--){g(c[b])}g(d)}function g(s){var w,n=s,t,l,u;if(u=s.getAttribute(B)){while(n.parentNode&&(n=n.parentNode).nodeType===1&&!(w=n.getAttribute(B))){}if(w!==u){n=n.parentNode?n.nodeType===11?0:n.getAttribute(B)||0:0;if(!(l=z[u])){l=D[u];l=E(l,z[n]||D[n]);l.key=++G;z[G]=l}A&&v(u)}s.removeAttribute(B)}else{if(A&&(l=y.data(s,"tmplItem"))){v(l.key);z[l.key]=l;n=y.data(s.parentNode,"tmplItem");n=n?n.key:0}}if(l){t=l;while(t&&t.key!=n){t.nodes.push(s);t=t.parent}delete l._ctnt;delete l._wrap;y.data(s,"tmplItem",l)}function v(e){e=e+i;l=f[e]=f[e]||E(l,z[l.parent.key+i]||l.parent)}}}function S(e,h,g,f){if(!e){return J.pop()}J.push({_:e,tmpl:h,item:this,data:g,options:f})}function U(f,e,a){return y.tmpl(y.template(f),e,a,this)}function V(a,f){var e=a.options||{};e.wrapped=f;return y.tmpl(y.template(a.tmpl),a.data,e,a.item)}function T(f,e){var a=this._wrap;return y.map(y(y.isArray(a)?a.join(""):a).filter(f||"*"),function(b){return e?b.innerText||b.textContent:b.outerHTML||Q(b)})}function R(){var a=this.nodes;y.tmpl(null,null,null,this).insertBefore(a[0]);y(a).remove()}})(jQuery);(function(n,k){function b(c){throw c}var f=void 0,g=!0,h=null,i=!1,j=n.ko={};j.b=function(c,l){for(var m=c.split("."),o=n,p=0;p<m.length-1;p++){o=o[m[p]]}o[m[m.length-1]]=l};j.l=function(c,l,m){c[l]=m};j.a=new function(){function c(u,w){if("INPUT"!=u.tagName||!u.type){return i}if("click"!=w.toLowerCase()){return i}var v=u.type.toLowerCase();return"checkbox"==v||"radio"==v}var l=/^(\s|\u00A0)+|(\s|\u00A0)+$/g,m={},o={};m[/Firefox\/2/i.test(navigator.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"];m.MouseEvents="click,dblclick,mousedown,mouseup,mousemove,mouseover,mouseout,mouseenter,mouseleave".split(",");for(var p in m){var r=m[p];if(r.length){for(var q=0,s=r.length;q<s;q++){o[r[q]]=p}}}var t=function(){for(var u=3,w=document.createElement("div"),v=w.getElementsByTagName("i");w.innerHTML="<!--[if gt IE "+ ++u+"]><i></i><![endif]-->",v[0];){}return 4<u?u:f}();return{Ba:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],n:function(u,w){for(var v=0,x=u.length;v<x;v++){w(u[v])}},k:function(u,w){if("function"==typeof Array.prototype.indexOf){return Array.prototype.indexOf.call(u,w)}for(var v=0,x=u.length;v<x;v++){if(u[v]===w){return v}}return -1},Wa:function(u,x,v){for(var y=0,w=u.length;y<w;y++){if(x.call(v,u[y])){return u[y]}}return h},ca:function(u,w){var v=j.a.k(u,w);0<=v&&u.splice(v,1)},ya:function(u){for(var u=u||[],w=[],v=0,x=u.length;v<x;v++){0>j.a.k(w,u[v])&&w.push(u[v])}return w},ba:function(u,x){for(var u=u||[],v=[],y=0,w=u.length;y<w;y++){v.push(x(u[y]))}return v},aa:function(u,x){for(var u=u||[],v=[],y=0,w=u.length;y<w;y++){x(u[y])&&v.push(u[y])}return v},J:function(u,w){for(var v=0,x=w.length;v<x;v++){u.push(w[v])}return u},extend:function(u,w){for(var v in w){w.hasOwnProperty(v)&&(u[v]=w[v])}return u},U:function(u){for(;u.firstChild;){j.removeNode(u.firstChild)}},oa:function(u,v){j.a.U(u);v&&j.a.n(v,function(w){u.appendChild(w)})},Ja:function(u,x){var v=u.nodeType?[u]:u;if(0<v.length){for(var y=v[0],w=y.parentNode,A=0,z=x.length;A<z;A++){w.insertBefore(x[A],y)}A=0;for(z=v.length;A<z;A++){j.removeNode(v[A])}}},La:function(u,v){0<=navigator.userAgent.indexOf("MSIE 6")?u.setAttribute("selected",v):u.selected=v},z:function(u){return(u||"").replace(l,"")},Db:function(u,x){for(var v=[],y=(u||"").split(x),w=0,A=y.length;w<A;w++){var z=j.a.z(y[w]);""!==z&&v.push(z)}return v},Cb:function(u,v){u=u||"";return v.length>u.length?i:u.substring(0,v.length)===v},hb:function(u){for(var w=Array.prototype.slice.call(arguments,1),v="return ("+u+")",x=0;x<w.length;x++){w[x]&&"object"==typeof w[x]&&(v="with(sc["+x+"]) { "+v+" } ")}return(new Function("sc",v))(w)},fb:function(u,v){if(v.compareDocumentPosition){return 16==(v.compareDocumentPosition(u)&16)}for(;u!=h;){if(u==v){return g}u=u.parentNode}return i},ga:function(u){return j.a.fb(u,document)},s:function(w,u,x){if("undefined"!=typeof jQuery){if(c(w,u)){var v=x,x=function(y,A){var z=this.checked;if(A){this.checked=A.Ya!==g}v.call(this,y);this.checked=z}}jQuery(w).bind(u,x)}else{"function"==typeof w.addEventListener?w.addEventListener(u,x,i):"undefined"!=typeof w.attachEvent?w.attachEvent("on"+u,function(y){x.call(w,y)}):b(Error("Browser doesn't support addEventListener or attachEvent"))}},sa:function(u,w){(!u||!u.nodeType)&&b(Error("element must be a DOM node when calling triggerEvent"));if("undefined"!=typeof jQuery){var v=[];c(u,w)&&v.push({Ya:u.checked});jQuery(u).trigger(w,v)}else{if("function"==typeof document.createEvent){"function"==typeof u.dispatchEvent?(v=document.createEvent(o[w]||"HTMLEvents"),v.initEvent(w,g,g,n,0,0,0,0,0,i,i,i,i,0,u),u.dispatchEvent(v)):b(Error("The supplied element doesn't support dispatchEvent"))}else{if("undefined"!=typeof u.fireEvent){if("click"==w&&"INPUT"==u.tagName&&("checkbox"==u.type.toLowerCase()||"radio"==u.type.toLowerCase())){u.checked=u.checked!==g}u.fireEvent("on"+w)}else{b(Error("Browser doesn't support triggering events"))}}}},d:function(u){return j.V(u)?u():u},eb:function(u,v){return 0<=j.a.k((u.className||"").split(/\s+/),v)},Qa:function(u,x,v){var y=j.a.eb(u,x);if(v&&!y){u.className=(u.className||"")+" "+x}else{if(y&&!v){for(var v=(u.className||"").split(/\s+/),y="",w=0;w<v.length;w++){v[w]!=x&&(y+=v[w]+" ")}u.className=j.a.z(y)}}},outerHTML:function(u){if(t===f){var v=u.outerHTML;if("string"==typeof v){return v}}v=n.document.createElement("div");v.appendChild(u.cloneNode(g));return v.innerHTML},Ma:function(u,w){var v=j.a.d(w);if(v===h||v===f){v=""}"innerText" in u?u.innerText=v:u.textContent=v;if(9<=t){u.innerHTML=u.innerHTML}},yb:function(u,w){for(var u=j.a.d(u),w=j.a.d(w),v=[],x=u;x<=w;x++){v.push(x)}return v},X:function(u){for(var w=[],v=0,x=u.length;v<x;v++){w.push(u[v])}return w},ob:6===t,pb:7===t,Ca:function(u,x){for(var v=j.a.X(u.getElementsByTagName("INPUT")).concat(j.a.X(u.getElementsByTagName("TEXTAREA"))),y="string"==typeof x?function(A){return A.name===x}:function(A){return x.test(A.name)},w=[],z=v.length-1;0<=z;z--){y(v[z])&&w.push(v[z])}return w},vb:function(u){return"string"==typeof u&&(u=j.a.z(u))?n.JSON&&n.JSON.parse?n.JSON.parse(u):(new Function("return "+u))():h},qa:function(u){("undefined"==typeof JSON||"undefined"==typeof JSON.stringify)&&b(Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js"));return JSON.stringify(j.a.d(u))},wb:function(v,z,w){var w=w||{},A=w.params||{},x=w.includeFields||this.Ba,C=v;if("object"==typeof v&&"FORM"==v.tagName){for(var C=v.action,B=x.length-1;0<=B;B--){for(var E=j.a.Ca(v,x[B]),D=E.length-1;0<=D;D--){A[E[D].name]=E[D].value}}}var z=j.a.d(z),F=document.createElement("FORM");F.style.display="none";F.action=C;F.method="post";for(var G in z){v=document.createElement("INPUT"),v.name=G,v.value=j.a.qa(j.a.d(z[G])),F.appendChild(v)}for(G in A){v=document.createElement("INPUT"),v.name=G,v.value=A[G],F.appendChild(v)}document.body.appendChild(F);w.submitter?w.submitter(F):F.submit();setTimeout(function(){F.parentNode.removeChild(F)},0)}}};j.b("ko.utils",j.a);j.a.n([["arrayForEach",j.a.n],["arrayFirst",j.a.Wa],["arrayFilter",j.a.aa],["arrayGetDistinctValues",j.a.ya],["arrayIndexOf",j.a.k],["arrayMap",j.a.ba],["arrayPushAll",j.a.J],["arrayRemoveItem",j.a.ca],["extend",j.a.extend],["fieldsIncludedWithJsonPost",j.a.Ba],["getFormFields",j.a.Ca],["postJson",j.a.wb],["parseJson",j.a.vb],["registerEventHandler",j.a.s],["stringifyJson",j.a.qa],["range",j.a.yb],["toggleDomNodeCssClass",j.a.Qa],["triggerEvent",j.a.sa],["unwrapObservable",j.a.d]],function(c){j.b("ko.utils."+c[0],c[1])});Function.prototype.bind||(Function.prototype.bind=function(c){var l=this,m=Array.prototype.slice.call(arguments),c=m.shift();return function(){return l.apply(c,m.concat(Array.prototype.slice.call(arguments)))}});j.a.e=new function(){var c=0,l="__ko__"+(new Date).getTime(),m={};return{get:function(o,p){var q=j.a.e.getAll(o,i);return q===f?f:q[p]},set:function(o,p,q){q===f&&j.a.e.getAll(o,i)===f||(j.a.e.getAll(o,g)[p]=q)},getAll:function(o,p){var q=o[l];if(!(q&&"null"!==q)){if(!p){return}q=o[l]="ko"+c++;m[q]={}}return m[q]},clear:function(o){var p=o[l];p&&(delete m[p],o[l]=h)}}};j.b("ko.utils.domData",j.a.e);j.b("ko.utils.domData.clear",j.a.e.clear);j.a.A=new function(){function c(o,p){var q=j.a.e.get(o,m);q===f&&p&&(q=[],j.a.e.set(o,m,q));return q}function l(q){var o=c(q,i);if(o){for(var o=o.slice(0),p=0;p<o.length;p++){o[p](q)}}j.a.e.clear(q);"function"==typeof jQuery&&"function"==typeof jQuery.cleanData&&jQuery.cleanData([q])}var m="__ko_domNodeDisposal__"+(new Date).getTime();return{va:function(p,o){"function"!=typeof o&&b(Error("Callback must be a function"));c(p,g).push(o)},Ia:function(p,o){var q=c(p,i);q&&(j.a.ca(q,o),0==q.length&&j.a.e.set(p,m,f))},F:function(o){if(!(1!=o.nodeType&&9!=o.nodeType)){l(o);var q=[];j.a.J(q,o.getElementsByTagName("*"));for(var o=0,p=q.length;o<p;o++){l(q[o])}}},removeNode:function(o){j.F(o);o.parentNode&&o.parentNode.removeChild(o)}}};j.F=j.a.A.F;j.removeNode=j.a.A.removeNode;j.b("ko.cleanNode",j.F);j.b("ko.removeNode",j.removeNode);j.b("ko.utils.domNodeDisposal",j.a.A);j.b("ko.utils.domNodeDisposal.addDisposeCallback",j.a.A.va);j.b("ko.utils.domNodeDisposal.removeDisposeCallback",j.a.A.Ia);j.a.ma=function(c){var l;if("undefined"!=typeof jQuery){if((l=jQuery.clean([c]))&&l[0]){for(c=l[0];c.parentNode&&11!==c.parentNode.nodeType;){c=c.parentNode}c.parentNode&&c.parentNode.removeChild(c)}}else{var m=j.a.z(c).toLowerCase();l=document.createElement("div");m=m.match(/^<(thead|tbody|tfoot)/)&&[1,"<table>","</table>"]||!m.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!m.indexOf("<td")||!m.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||[0,"",""];c="ignored<div>"+m[1]+c+m[2]+"</div>";for("function"==typeof n.innerShiv?l.appendChild(n.innerShiv(c)):l.innerHTML=c;m[0]--;){l=l.lastChild}l=j.a.X(l.lastChild.childNodes)}return l};j.a.Z=function(c,l){j.a.U(c);if(l!==h&&l!==f){if("string"!=typeof l&&(l=l.toString()),"undefined"!=typeof jQuery){jQuery(c).html(l)}else{for(var m=j.a.ma(l),o=0;o<m.length;o++){c.appendChild(m[o])}}}};j.b("ko.utils.parseHtmlFragment",j.a.ma);j.b("ko.utils.setHtml",j.a.Z);j.r=function(){function c(){return(4294967296*(1+Math.random())|0).toString(16).substring(1)}function l(o,q){if(o){if(8==o.nodeType){var p=j.r.Ga(o.nodeValue);p!=h&&q.push({cb:o,tb:p})}else{if(1==o.nodeType){for(var p=0,r=o.childNodes,s=r.length;p<s;p++){l(r[p],q)}}}}}var m={};return{ka:function(o){"function"!=typeof o&&b(Error("You can only pass a function to ko.memoization.memoize()"));var p=c()+c();m[p]=o;return"<!--[ko_memo:"+p+"]-->"},Ra:function(o,p){var q=m[o];q===f&&b(Error("Couldn't find any memo with ID "+o+". Perhaps it's already been unmemoized."));try{return q.apply(h,p||[]),g}finally{delete m[o]}},Sa:function(o,q){var p=[];l(o,p);for(var r=0,s=p.length;r<s;r++){var t=p[r].cb,u=[t];q&&j.a.J(u,q);j.r.Ra(p[r].tb,u);t.nodeValue="";t.parentNode&&t.parentNode.removeChild(t)}},Ga:function(o){return(o=o.match(/^\[ko_memo\:(.*?)\]$/))?o[1]:h}}}();j.b("ko.memoization",j.r);j.b("ko.memoization.memoize",j.r.ka);j.b("ko.memoization.unmemoize",j.r.Ra);j.b("ko.memoization.parseMemoText",j.r.Ga);j.b("ko.memoization.unmemoizeDomNodeAndDescendants",j.r.Sa);j.Aa={throttle:function(c,l){c.throttleEvaluation=l;var m=h;return j.i({read:c,write:function(o){clearTimeout(m);m=setTimeout(function(){c(o)},l)}})},notify:function(c,l){c.equalityComparer="always"==l?function(){return i}:j.w.fn.equalityComparer;return c}};j.b("ko.extenders",j.Aa);j.Oa=function(c,l){this.da=c;this.bb=l;j.l(this,"dispose",this.v)};j.Oa.prototype.v=function(){this.nb=g;this.bb()};j.R=function(){this.u={};j.a.extend(this,j.R.fn);j.l(this,"subscribe",this.ra);j.l(this,"extend",this.extend);j.l(this,"getSubscriptionsCount",this.kb)};j.R.fn={ra:function(c,l,m){var m=m||"change",c=l?c.bind(l):c,o=new j.Oa(c,function(){j.a.ca(this.u[m],o)}.bind(this));this.u[m]||(this.u[m]=[]);this.u[m].push(o);return o},notifySubscribers:function(c,l){l=l||"change";this.u[l]&&j.a.n(this.u[l].slice(0),function(m){m&&m.nb!==g&&m.da(c)})},kb:function(){var c=0,l;for(l in this.u){this.u.hasOwnProperty(l)&&(c+=this.u[l].length)}return c},extend:function(c){var l=this;if(c){for(var m in c){var o=j.Aa[m];"function"==typeof o&&(l=o(l,c[m]))}}return l}};j.Ea=function(c){return"function"==typeof c.ra&&"function"==typeof c.notifySubscribers};j.b("ko.subscribable",j.R);j.b("ko.isSubscribable",j.Ea);j.T=function(){var c=[];return{Xa:function(l){c.push({da:l,za:[]})},end:function(){c.pop()},Ha:function(l){j.Ea(l)||b("Only subscribable things can act as dependencies");if(0<c.length){var m=c[c.length-1];0<=j.a.k(m.za,l)||(m.za.push(l),m.da(l))}}}}();var a={undefined:g,"boolean":g,number:g,string:g};j.w=function(c){function l(){if(0<arguments.length){if(!l.equalityComparer||!l.equalityComparer(m,arguments[0])){l.H(),m=arguments[0],l.G()}return this}j.T.Ha(l);return m}var m=c;j.R.call(l);l.G=function(){l.notifySubscribers(m)};l.H=function(){l.notifySubscribers(m,"beforeChange")};j.a.extend(l,j.w.fn);j.l(l,"valueHasMutated",l.G);j.l(l,"valueWillMutate",l.H);return l};j.w.fn={B:j.w,equalityComparer:function(c,l){return c===h||typeof c in a?c===l:i}};j.V=function(c){return c===h||c===f||c.B===f?i:c.B===j.w?g:j.V(c.B)};j.P=function(c){return"function"==typeof c&&c.B===j.w?g:"function"==typeof c&&c.B===j.i&&c.lb?g:i};j.b("ko.observable",j.w);j.b("ko.isObservable",j.V);j.b("ko.isWriteableObservable",j.P);j.Q=function(c){0==arguments.length&&(c=[]);c!==h&&c!==f&&!("length" in c)&&b(Error("The argument passed when initializing an observable array must be an array, or null, or undefined."));var l=new j.w(c);j.a.extend(l,j.Q.fn);j.l(l,"remove",l.remove);j.l(l,"removeAll",l.zb);j.l(l,"destroy",l.fa);j.l(l,"destroyAll",l.ab);j.l(l,"indexOf",l.indexOf);j.l(l,"replace",l.replace);return l};j.Q.fn={remove:function(c){for(var l=this(),m=[],o="function"==typeof c?c:function(r){return r===c},p=0;p<l.length;p++){var q=l[p];o(q)&&(0===m.length&&this.H(),m.push(q),l.splice(p,1),p--)}m.length&&this.G();return m},zb:function(c){if(c===f){var l=this(),m=l.slice(0);this.H();l.splice(0,l.length);this.G();return m}return !c?[]:this.remove(function(o){return 0<=j.a.k(c,o)})},fa:function(c){var l=this(),m="function"==typeof c?c:function(p){return p===c};this.H();for(var o=l.length-1;0<=o;o--){m(l[o])&&(l[o]._destroy=g)}this.G()},ab:function(c){return c===f?this.fa(function(){return g}):!c?[]:this.fa(function(l){return 0<=j.a.k(c,l)})},indexOf:function(c){var l=this();return j.a.k(l,c)},replace:function(c,l){var m=this.indexOf(c);0<=m&&(this.H(),this()[m]=l,this.G())}};j.a.n("pop,push,reverse,shift,sort,splice,unshift".split(","),function(c){j.Q.fn[c]=function(){var l=this();this.H();l=l[c].apply(l,arguments);this.G();return l}});j.a.n(["slice"],function(c){j.Q.fn[c]=function(){var l=this();return l[c].apply(l,arguments)}});j.b("ko.observableArray",j.Q);function d(c,l){c&&"object"==typeof c?l=c:(l=l||{},l.read=c||l.read);"function"!=typeof l.read&&b("Pass a function that returns the value of the dependentObservable");return l}j.i=function(c,l,m){function o(){j.a.n(z,function(q){q.v()});z=[]}function p(){var q=r.throttleEvaluation;q&&0<=q?(clearTimeout(B),B=setTimeout(s,q)):s()}function s(){if(w&&"function"==typeof m.disposeWhen&&m.disposeWhen()){r.v()}else{try{o();j.T.Xa(function(t){z.push(t.ra(p))});var q=m.read.call(m.owner||l);r.notifySubscribers(u,"beforeChange");u=q}finally{j.T.end()}r.notifySubscribers(u);w=g}}function r(){if(0<arguments.length){"function"===typeof m.write?m.write.apply(m.owner||l,arguments):b("Cannot write a value to a dependentObservable unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.")}else{return w||s(),j.T.Ha(r),u}}var u,w=i,m=d(c,m),x="object"==typeof m.disposeWhenNodeIsRemoved?m.disposeWhenNodeIsRemoved:h,y=h;if(x){y=function(){r.v()};j.a.A.va(x,y);var A=m.disposeWhen;m.disposeWhen=function(){return !j.a.ga(x)||"function"==typeof A&&A()}}var z=[],B=h;r.jb=function(){return z.length};r.lb="function"===typeof m.write;r.v=function(){x&&j.a.A.Ia(x,y);o()};j.R.call(r);j.a.extend(r,j.i.fn);m.deferEvaluation!==g&&s();j.l(r,"dispose",r.v);j.l(r,"getDependenciesCount",r.jb);return r};j.i.fn={B:j.i};j.i.B=j.w;j.b("ko.dependentObservable",j.i);j.b("ko.computed",j.i);(function(){function c(o,p,r){r=r||new m;o=p(o);if(!("object"==typeof o&&o!==h&&o!==f&&!(o instanceof Date))){return o}var q=o instanceof Array?[]:{};r.save(o,q);l(o,function(s){var t=p(o[s]);switch(typeof t){case"boolean":case"number":case"string":case"function":q[s]=t;break;case"object":case"undefined":var u=r.get(t);q[s]=u!==f?u:c(t,p,r)}});return q}function l(o,p){if(o instanceof Array){for(var q=0;q<o.length;q++){p(q)}}else{for(q in o){p(q)}}}function m(){var o=[],p=[];this.save=function(q,r){var s=j.a.k(o,q);0<=s?p[s]=r:(o.push(q),p.push(r))};this.get=function(q){q=j.a.k(o,q);return 0<=q?p[q]:f}}j.Pa=function(o){0==arguments.length&&b(Error("When calling ko.toJS, pass the object you want to convert."));return c(o,function(p){for(var q=0;j.V(p)&&10>q;q++){p=p()}return p})};j.toJSON=function(o){o=j.Pa(o);return j.a.qa(o)}})();j.b("ko.toJS",j.Pa);j.b("ko.toJSON",j.toJSON);j.h={q:function(c){return"OPTION"==c.tagName?c.__ko__hasDomDataOptionValue__===g?j.a.e.get(c,j.c.options.la):c.getAttribute("value"):"SELECT"==c.tagName?0<=c.selectedIndex?j.h.q(c.options[c.selectedIndex]):f:c.value},S:function(c,l){if("OPTION"==c.tagName){switch(typeof l){case"string":j.a.e.set(c,j.c.options.la,f);"__ko__hasDomDataOptionValue__" in c&&delete c.__ko__hasDomDataOptionValue__;c.value=l;break;default:j.a.e.set(c,j.c.options.la,l),c.__ko__hasDomDataOptionValue__=g,c.value="number"===typeof l?l:""}}else{if("SELECT"==c.tagName){for(var m=c.options.length-1;0<=m;m--){if(j.h.q(c.options[m])==l){c.selectedIndex=m;break}}}else{if(l===h||l===f){l=""}c.value=l}}}};j.b("ko.selectExtensions",j.h);j.b("ko.selectExtensions.readValue",j.h.q);j.b("ko.selectExtensions.writeValue",j.h.S);j.j=function(){function c(p,r){for(var q=h;p!=q;){q=p,p=p.replace(l,function(s,t){return r[t]})}return p}var l=/\@ko_token_(\d+)\@/g,m=/^[\_$a-z][\_$a-z0-9]*(\[.*?\])*(\.[\_$a-z][\_$a-z0-9]*(\[.*?\])*)*$/i,o=["true","false"];return{D:[],Y:function(p){var s=j.a.z(p);if(3>s.length){return[]}"{"===s.charAt(0)&&(s=s.substring(1,s.length-1));for(var p=[],r=h,u,v=0;v<s.length;v++){var w=s.charAt(v);if(r===h){switch(w){case'"':case"'":case"/":r=v,u=w}}else{if(w==u&&"\\"!==s.charAt(v-1)){w=s.substring(r,v+1);p.push(w);var x="@ko_token_"+(p.length-1)+"@",s=s.substring(0,r)+x+s.substring(v+1),v=v-(w.length-x.length),r=h}}}u=r=h;for(var z=0,y=h,v=0;v<s.length;v++){w=s.charAt(v);if(r===h){switch(w){case"{":r=v;y=w;u="}";break;case"(":r=v;y=w;u=")";break;case"[":r=v,y=w,u="]"}}w===y?z++:w===u&&(z--,0===z&&(w=s.substring(r,v+1),p.push(w),x="@ko_token_"+(p.length-1)+"@",s=s.substring(0,r)+x+s.substring(v+1),v-=w.length-x.length,r=h))}u=[];s=s.split(",");r=0;for(v=s.length;r<v;r++){z=s[r],y=z.indexOf(":"),0<y&&y<z.length-1?(w=z.substring(y+1),u.push({key:c(z.substring(0,y),p),value:c(w,p)})):u.push({unknown:c(z,p)})}return u},ia:function(p){for(var q="string"===typeof p?j.j.Y(p):p,r=[],p=[],s,t=0;s=q[t];t++){if(0<r.length&&r.push(","),s.key){var u;p:{u=s.key;var v=j.a.z(u);switch(v.length&&v.charAt(0)){case"'":case'"':break p;default:u="'"+v+"'"}}s=s.value;r.push(u);r.push(":");r.push(s);v=j.a.z(s);if(0<=j.a.k(o,j.a.z(v).toLowerCase())?0:v.match(m)!==h){0<p.length&&p.push(", "),p.push(u+" : function(__ko_value) { "+s+" = __ko_value; }")}}else{s.unknown&&r.push(s.unknown)}}q=r.join("");0<p.length&&(q=q+", '_ko_property_writers' : { "+p.join("")+" } ");return q},rb:function(p,q){for(var r=0;r<p.length;r++){if(j.a.z(p[r].key)==q){return g}}return i}}}();j.b("ko.jsonExpressionRewriting",j.j);j.b("ko.jsonExpressionRewriting.bindingRewriteValidators",j.j.D);j.b("ko.jsonExpressionRewriting.parseObjectLiteral",j.j.Y);j.b("ko.jsonExpressionRewriting.insertPropertyAccessorsIntoJson",j.j.ia);(function(){function c(t){return 8==t.nodeType&&(p?t.text:t.nodeValue).match(r)}function l(t){return 8==t.nodeType&&(p?t.text:t.nodeValue).match(q)}function m(u,t){for(var v=u,w=1,x=[];v=v.nextSibling;){if(l(v)&&(w--,0===w)){return x}x.push(v);c(v)&&w++}t||b(Error("Cannot find closing comment tag to match: "+u.nodeValue));return h}function o(t,u){var v=m(t,u);return v?0<v.length?v[v.length-1].nextSibling:t.nextSibling:h}var p="<!--test-->"===document.createComment("test").text,r=p?/^<\!--\s*ko\s+(.*\:.*)\s*--\>$/:/^\s*ko\s+(.*\:.*)\s*$/,q=p?/^<\!--\s*\/ko\s*--\>$/:/^\s*\/ko\s*$/,s={ul:g,ol:g};j.f={C:{},childNodes:function(t){return c(t)?m(t):t.childNodes},ha:function(t){if(c(t)){for(var t=j.f.childNodes(t),v=0,u=t.length;v<u;v++){j.removeNode(t[v])}}else{j.a.U(t)}},oa:function(t,v){if(c(t)){j.f.ha(t);for(var u=t.nextSibling,w=0,x=v.length;w<x;w++){u.parentNode.insertBefore(v[w],u)}}else{j.a.oa(t,v)}},xb:function(t,u){c(t)?t.parentNode.insertBefore(u,t.nextSibling):t.firstChild?t.insertBefore(u,t.firstChild):t.appendChild(u)},mb:function(t,v,u){c(t)?t.parentNode.insertBefore(v,u.nextSibling):u.nextSibling?t.insertBefore(v,u.nextSibling):t.appendChild(v)},nextSibling:function(t){return c(t)?o(t).nextSibling:t.nextSibling&&l(t.nextSibling)?f:t.nextSibling},ta:function(t){return(t=c(t))?t[1]:h},ib:function(t){if(j.f.ta(t)){var u;u=j.f.childNodes(t);for(var w=[],v=0,x=u.length;v<x;v++){j.a.A.F(u[v]),w.push(j.a.outerHTML(u[v]))}u=String.prototype.concat.apply("",w);j.f.ha(t);(new j.m.I(t)).text(u)}},Fa:function(t){if(s[t.tagName.toLowerCase()]){var u=t.firstChild;if(u){do{if(1===u.nodeType){var v;v=u.firstChild;var w=h;if(v){do{if(w){w.push(v)}else{if(c(v)){var x=o(v,g);x?v=x:w=[v]}else{l(v)&&(w=[v])}}}while(v=v.nextSibling)}if(v=w){w=u.nextSibling;for(x=0;x<v.length;x++){w?t.insertBefore(v[x],w):t.appendChild(v[x])}}}}while(u=u.nextSibling)}}}}})();j.L=function(){};j.a.extend(j.L.prototype,{nodeHasBindings:function(c){switch(c.nodeType){case 1:return c.getAttribute("data-bind")!=h;case 8:return j.f.ta(c)!=h;default:return i}},getBindings:function(c,l){var m=this.getBindingsString(c,l);return m?this.parseBindingsString(m,l):h},getBindingsString:function(c){switch(c.nodeType){case 1:return c.getAttribute("data-bind");case 8:return j.f.ta(c);default:return h}},parseBindingsString:function(c,l){try{var m=l.$data,o=" { "+j.j.ia(c)+" } ";return j.a.hb(o,m===h?n:m,l)}catch(p){b(Error("Unable to parse bindings.\nMessage: "+p+";\nBindings value: "+c))}}});j.L.instance=new j.L;j.b("ko.bindingProvider",j.L);(function(){function c(o,p){for(var r,q=p.childNodes[0];r=q;){q=j.f.nextSibling(r),l(o,r,i)}}function l(o,p,r){var q=g,s=1==p.nodeType;s&&j.f.Fa(p);if(s&&r||j.L.instance.nodeHasBindings(p)){q=m(p,h,o,r).Bb}s&&q&&c(o,p)}function m(o,p,q,r){function s(t){return function(){return w[t]}}function u(){return w}var v=0;j.f.ib(o);var w,x;new j.i(function(){var t=q&&q instanceof j.K?q:new j.K(j.a.d(q)),z=t.$data;r&&j.Na(o,t);if(w=("function"==typeof p?p():p)||j.L.instance.getBindings(o,t)){if(0===v){v=1;for(var y in w){var A=j.c[y];A&&8===o.nodeType&&!j.f.C[y]&&b(Error("The binding '"+y+"' cannot be used with virtual elements"));if(A&&"function"==typeof A.init&&(A=(0,A.init)(o,s(y),u,z,t))&&A.controlsDescendantBindings){x!==f&&b(Error("Multiple bindings ("+x+" and "+y+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.")),x=y}}v=2}if(2===v){for(y in w){(A=j.c[y])&&"function"==typeof A.update&&(0,A.update)(o,s(y),u,z,t)}}}},h,{disposeWhenNodeIsRemoved:o});return{Bb:x===f}}j.c={};j.K=function(o,p){this.$data=o;p?(this.$parent=p.$data,this.$parents=(p.$parents||[]).slice(0),this.$parents.unshift(this.$parent),this.$root=p.$root):(this.$parents=[],this.$root=o)};j.K.prototype.createChildContext=function(o){return new j.K(o,this)};j.Na=function(o,p){if(2==arguments.length){j.a.e.set(o,"__ko_bindingContext__",p)}else{return j.a.e.get(o,"__ko_bindingContext__")}};j.xa=function(o,p,q){1===o.nodeType&&j.f.Fa(o);return m(o,p,q,g)};j.Ta=function(o,p){1===p.nodeType&&c(o,p)};j.wa=function(o,p){p&&1!==p.nodeType&&8!==p.nodeType&&b(Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node"));p=p||n.document.body;l(o,p,g)};j.ea=function(o){switch(o.nodeType){case 1:case 8:var p=j.Na(o);if(p){return p}if(o.parentNode){return j.ea(o.parentNode)}}};j.$a=function(o){return(o=j.ea(o))?o.$data:f};j.b("ko.bindingHandlers",j.c);j.b("ko.applyBindings",j.wa);j.b("ko.applyBindingsToDescendants",j.Ta);j.b("ko.applyBindingsToNode",j.xa);j.b("ko.contextFor",j.ea);j.b("ko.dataFor",j.$a)})();j.a.n(["click"],function(c){j.c[c]={init:function(l,m,o,p){return j.c.event.init.call(this,l,function(){var q={};q[c]=m();return q},o,p)}}});j.c.event={init:function(c,l,m,o){var p=l()||{},q;for(q in p){(function(){var r=q;"string"==typeof r&&j.a.s(c,r,function(s){var u,v=l()[r];if(v){var w=m();try{var x=j.a.X(arguments);x.unshift(o);u=v.apply(o,x)}finally{if(u!==g){s.preventDefault?s.preventDefault():s.returnValue=i}}if(w[r+"Bubble"]===i){s.cancelBubble=g,s.stopPropagation&&s.stopPropagation()}}})})()}}};j.c.submit={init:function(c,l,m,o){"function"!=typeof l()&&b(Error("The value for a submit binding must be a function"));j.a.s(c,"submit",function(p){var r,q=l();try{r=q.call(o,c)}finally{if(r!==g){p.preventDefault?p.preventDefault():p.returnValue=i}}})}};j.c.visible={update:function(c,l){var m=j.a.d(l()),o="none"!=c.style.display;if(m&&!o){c.style.display=""}else{if(!m&&o){c.style.display="none"}}}};j.c.enable={update:function(c,l){var m=j.a.d(l());if(m&&c.disabled){c.removeAttribute("disabled")}else{if(!m&&!c.disabled){c.disabled=g}}}};j.c.disable={update:function(c,l){j.c.enable.update(c,function(){return !j.a.d(l())})}};function e(c,l,m){m&&l!==j.h.q(c)&&j.h.S(c,l);l!==j.h.q(c)&&j.a.sa(c,"change")}j.c.value={init:function(c,l,m){var o=["change"],p=m().valueUpdate;p&&("string"==typeof p&&(p=[p]),j.a.J(o,p),o=j.a.ya(o));j.a.n(o,function(q){var r=i;j.a.Cb(q,"after")&&(r=g,q=q.substring(5));var s=r?function(t){setTimeout(t,0)}:function(t){t()};j.a.s(c,q,function(){s(function(){var t=l(),u=j.h.q(c);j.P(t)?t(u):(t=m(),t._ko_property_writers&&t._ko_property_writers.value&&t._ko_property_writers.value(u))})})})},update:function(c,l){var m=j.a.d(l()),o=j.h.q(c),p=m!=o;0===m&&0!==o&&"0"!==o&&(p=g);p&&(o=function(){j.h.S(c,m)},o(),"SELECT"==c.tagName&&setTimeout(o,0));"SELECT"==c.tagName&&0<c.length&&e(c,m,i)}};j.c.options={update:function(c,l,m){"SELECT"!=c.tagName&&b(Error("options binding applies only to SELECT elements"));var o=0==c.length,p=j.a.ba(j.a.aa(c.childNodes,function(w){return w.tagName&&"OPTION"==w.tagName&&w.selected}),function(w){return j.h.q(w)||w.innerText||w.textContent}),r=c.scrollTop;c.scrollTop=0;for(var q=j.a.d(l());0<c.length;){j.F(c.options[0]),c.remove(0)}if(q){m=m();"number"!=typeof q.length&&(q=[q]);if(m.optionsCaption){var s=document.createElement("OPTION");j.a.Z(s,m.optionsCaption);j.h.S(s,f);c.appendChild(s)}for(var l=0,t=q.length;l<t;l++){var s=document.createElement("OPTION"),u="string"==typeof m.optionsValue?q[l][m.optionsValue]:q[l],u=j.a.d(u);j.h.S(s,u);var v=m.optionsText,u="function"==typeof v?v(q[l]):"string"==typeof v?q[l][v]:u;if(u===h||u===f){u=""}j.a.Ma(s,u);c.appendChild(s)}q=c.getElementsByTagName("OPTION");l=s=0;for(t=q.length;l<t;l++){0<=j.a.k(p,j.h.q(q[l]))&&(j.a.La(q[l],g),s++)}if(r){c.scrollTop=r}o&&"value" in m&&e(c,j.a.d(m.value),g)}}};j.c.options.la="__ko.optionValueDomData__";j.c.selectedOptions={Da:function(c){for(var l=[],c=c.childNodes,m=0,o=c.length;m<o;m++){var p=c[m];"OPTION"==p.tagName&&p.selected&&l.push(j.h.q(p))}return l},init:function(c,l,m){j.a.s(c,"change",function(){var o=l();j.P(o)?o(j.c.selectedOptions.Da(this)):(o=m(),o._ko_property_writers&&o._ko_property_writers.value&&o._ko_property_writers.value(j.c.selectedOptions.Da(this)))})},update:function(c,l){"SELECT"!=c.tagName&&b(Error("values binding applies only to SELECT elements"));var m=j.a.d(l());if(m&&"number"==typeof m.length){for(var o=c.childNodes,p=0,r=o.length;p<r;p++){var q=o[p];"OPTION"==q.tagName&&j.a.La(q,0<=j.a.k(m,j.h.q(q)))}}}};j.c.text={update:function(c,l){j.a.Ma(c,l())}};j.c.html={init:function(){return{controlsDescendantBindings:g}},update:function(c,l){var m=j.a.d(l());j.a.Z(c,m)}};j.c.css={update:function(c,l){var m=j.a.d(l()||{}),o;for(o in m){if("string"==typeof o){var p=j.a.d(m[o]);j.a.Qa(c,o,p)}}}};j.c.style={update:function(c,l){var m=j.a.d(l()||{}),o;for(o in m){if("string"==typeof o){var p=j.a.d(m[o]);c.style[o]=p||""}}}};j.c.uniqueName={init:function(c,l){if(l()){c.name="ko_unique_"+ ++j.c.uniqueName.Za,(j.a.ob||j.a.pb)&&c.mergeAttributes(document.createElement("<input name='"+c.name+"'/>"),i)}}};j.c.uniqueName.Za=0;j.c.checked={init:function(c,l,m){j.a.s(c,"click",function(){var o;if("checkbox"==c.type){o=c.checked}else{if("radio"==c.type&&c.checked){o=c.value}else{return}}var p=l();"checkbox"==c.type&&j.a.d(p) instanceof Array?(o=j.a.k(j.a.d(p),c.value),c.checked&&0>o?p.push(c.value):!c.checked&&0<=o&&p.splice(o,1)):j.P(p)?p()!==o&&p(o):(p=m(),p._ko_property_writers&&p._ko_property_writers.checked&&p._ko_property_writers.checked(o))});"radio"==c.type&&!c.name&&j.c.uniqueName.init(c,function(){return g})},update:function(c,l){var m=j.a.d(l());if("checkbox"==c.type){c.checked=m instanceof Array?0<=j.a.k(m,c.value):m}else{if("radio"==c.type){c.checked=c.value==m}}}};j.c.attr={update:function(c,l){var m=j.a.d(l())||{},o;for(o in m){if("string"==typeof o){var p=j.a.d(m[o]);p===i||p===h||p===f?c.removeAttribute(o):c.setAttribute(o,p.toString())}}}};j.c.hasfocus={init:function(c,l,m){function o(p){var q=l();p!=j.a.d(q)&&(j.P(q)?q(p):(q=m(),q._ko_property_writers&&q._ko_property_writers.hasfocus&&q._ko_property_writers.hasfocus(p)))}j.a.s(c,"focus",function(){o(g)});j.a.s(c,"focusin",function(){o(g)});j.a.s(c,"blur",function(){o(i)});j.a.s(c,"focusout",function(){o(i)})},update:function(c,l){var m=j.a.d(l());m?c.focus():c.blur();j.a.sa(c,m?"focusin":"focusout")}};j.c["with"]={o:function(c){return function(){var l=c();return{"if":l,data:l,templateEngine:j.p.M}}},init:function(c,l){return j.c.template.init(c,j.c["with"].o(l))},update:function(c,l,m,o,p){return j.c.template.update(c,j.c["with"].o(l),m,o,p)}};j.j.D["with"]=i;j.f.C["with"]=g;j.c["if"]={o:function(c){return function(){return{"if":c(),templateEngine:j.p.M}}},init:function(c,l){return j.c.template.init(c,j.c["if"].o(l))},update:function(c,l,m,o,p){return j.c.template.update(c,j.c["if"].o(l),m,o,p)}};j.j.D["if"]=i;j.f.C["if"]=g;j.c.ifnot={o:function(c){return function(){return{ifnot:c(),templateEngine:j.p.M}}},init:function(c,l){return j.c.template.init(c,j.c.ifnot.o(l))},update:function(c,l,m,o,p){return j.c.template.update(c,j.c.ifnot.o(l),m,o,p)}};j.j.D.ifnot=i;j.f.C.ifnot=g;j.c.foreach={o:function(c){return function(){var l=j.a.d(c());return !l||"number"==typeof l.length?{foreach:l,templateEngine:j.p.M}:{foreach:l.data,includeDestroyed:l.includeDestroyed,afterAdd:l.afterAdd,beforeRemove:l.beforeRemove,afterRender:l.afterRender,templateEngine:j.p.M}}},init:function(c,l){return j.c.template.init(c,j.c.foreach.o(l))},update:function(c,l,m,o,p){return j.c.template.update(c,j.c.foreach.o(l),m,o,p)}};j.j.D.foreach=i;j.f.C.foreach=g;j.b("ko.allowedVirtualElementBindings",j.f.C);j.t=function(){};j.t.prototype.renderTemplateSource=function(){b("Override renderTemplateSource")};j.t.prototype.createJavaScriptEvaluatorBlock=function(){b("Override createJavaScriptEvaluatorBlock")};j.t.prototype.makeTemplateSource=function(c){if("string"==typeof c){var l=document.getElementById(c);l||b(Error("Cannot find template with ID "+c));return new j.m.g(l)}if(1==c.nodeType||8==c.nodeType){return new j.m.I(c)}b(Error("Unknown template type: "+c))};j.t.prototype.renderTemplate=function(c,l,m){return this.renderTemplateSource(this.makeTemplateSource(c),l,m)};j.t.prototype.isTemplateRewritten=function(c){return this.allowTemplateRewriting===i?g:this.W&&this.W[c]?g:this.makeTemplateSource(c).data("isRewritten")};j.t.prototype.rewriteTemplate=function(c,l){var m=this.makeTemplateSource(c),o=l(m.text());m.text(o);m.data("isRewritten",g);if("string"==typeof c){this.W=this.W||{},this.W[c]=g}};j.b("ko.templateEngine",j.t);j.$=function(){function c(o,p,q){for(var o=j.j.Y(o),r=j.j.D,s=0;s<o.length;s++){var t=o[s].key;if(r.hasOwnProperty(t)){var u=r[t];"function"===typeof u?(t=u(o[s].value))&&b(Error(t)):u||b(Error("This template engine does not support the '"+t+"' binding within its templates"))}}o="ko.templateRewriting.applyMemoizedBindingsToNextSibling(function() {             return (function() { return { "+j.j.ia(o)+" } })()         })";return q.createJavaScriptEvaluatorBlock(o)+p}var l=/(<[a-z]+\d*(\s+(?!data-bind=)[a-z0-9\-]+(=(\"[^\"]*\"|\'[^\']*\'))?)*\s+)data-bind=(["'])([\s\S]*?)\5/gi,m=/<\!--\s*ko\b\s*([\s\S]*?)\s*--\>/g;return{gb:function(o,p){p.isTemplateRewritten(o)||p.rewriteTemplate(o,function(q){return j.$.ub(q,p)})},ub:function(o,p){return o.replace(l,function(q,s,r,u,v,w,x){return c(x,s,p)}).replace(m,function(q,r){return c(r,"<!-- ko -->",p)})},Ua:function(o){return j.r.ka(function(p,q){p.nextSibling&&j.xa(p.nextSibling,o,q)})}}}();j.b("ko.templateRewriting",j.$);j.b("ko.templateRewriting.applyMemoizedBindingsToNextSibling",j.$.Ua);j.m={};j.m.g=function(c){this.g=c};j.m.g.prototype.text=function(){if(0==arguments.length){return"script"==this.g.tagName.toLowerCase()?this.g.text:this.g.innerHTML}var c=arguments[0];"script"==this.g.tagName.toLowerCase()?this.g.text=c:j.a.Z(this.g,c)};j.m.g.prototype.data=function(c){if(1===arguments.length){return j.a.e.get(this.g,"templateSourceData_"+c)}j.a.e.set(this.g,"templateSourceData_"+c,arguments[1])};j.m.I=function(c){this.g=c};j.m.I.prototype=new j.m.g;j.m.I.prototype.text=function(){if(0==arguments.length){return j.a.e.get(this.g,"__ko_anon_template__")}j.a.e.set(this.g,"__ko_anon_template__",arguments[0])};j.b("ko.templateSources",j.m);j.b("ko.templateSources.domElement",j.m.g);j.b("ko.templateSources.anonymousTemplate",j.m.I);(function(){function c(o,p,q){for(var r=0;node=o[r];r++){node.parentNode===p&&(1===node.nodeType||8===node.nodeType)&&q(node)}}function l(o,p,r,q,s){var s=s||{},t=s.templateEngine||m;j.$.gb(r,t);r=t.renderTemplate(r,q,s);("number"!=typeof r.length||0<r.length&&"number"!=typeof r[0].nodeType)&&b("Template engine must return an array of DOM nodes");t=i;switch(p){case"replaceChildren":j.f.oa(o,r);t=g;break;case"replaceNode":j.a.Ja(o,r);t=g;break;case"ignoreTargetNode":break;default:b(Error("Unknown renderMode: "+p))}t&&(j.ua(r,q),s.afterRender&&s.afterRender(r,q.$data));return r}var m;j.pa=function(o){o!=f&&!(o instanceof j.t)&&b("templateEngine must inherit from ko.templateEngine");m=o};j.ua=function(o,p){var r=j.a.J([],o),q=0<o.length?o[0].parentNode:h;c(r,q,function(s){j.wa(p,s)});c(r,q,function(s){j.r.Sa(s,[p])})};j.na=function(o,p,r,q,s){r=r||{};(r.templateEngine||m)==f&&b("Set a template engine before calling renderTemplate");s=s||"replaceChildren";if(q){var t=q.nodeType?q:0<q.length?q[0]:h;return new j.i(function(){var u=p&&p instanceof j.K?p:new j.K(j.a.d(p)),v="function"==typeof o?o(u.$data):o,u=l(q,s,v,u,r);"replaceNode"==s&&(q=u,t=q.nodeType?q:0<q.length?q[0]:h)},h,{disposeWhen:function(){return !t||!j.a.ga(t)},disposeWhenNodeIsRemoved:t&&"replaceNode"==s?t.parentNode:t})}return j.r.ka(function(u){j.na(o,p,r,u,"replaceNode")})};j.Ab=function(o,p,r,q,s){function t(v,w){var x=u(v);j.ua(w,x);r.afterRender&&r.afterRender(w,x.$data)}function u(v){return s.createChildContext(j.a.d(v))}return new j.i(function(){var v=j.a.d(p)||[];"undefined"==typeof v.length&&(v=[v]);v=j.a.aa(v,function(w){return r.includeDestroyed||w===f||w===h||!j.a.d(w._destroy)});j.a.Ka(q,v,function(w){var x="function"==typeof o?o(w):o;return l(h,"ignoreTargetNode",x,u(w),r)},r,t)},h,{disposeWhenNodeIsRemoved:q})};j.c.template={init:function(o,p){var q=j.a.d(p());"string"!=typeof q&&!q.name&&1==o.nodeType&&((new j.m.I(o)).text(o.innerHTML),j.a.U(o));return{controlsDescendantBindings:g}},update:function(o,p,q,r,s){p=j.a.d(p());r=g;"string"==typeof p?q=p:(q=p.name,"if" in p&&(r=r&&j.a.d(p["if"])),"ifnot" in p&&(r=r&&!j.a.d(p.ifnot)));var t=h;"object"===typeof p&&"foreach" in p?t=j.Ab(q||o,r&&p.foreach||[],p,o,s):r?(s="object"==typeof p&&"data" in p?s.createChildContext(j.a.d(p.data)):s,t=j.na(q||o,s,p,o)):j.f.ha(o);s=t;(p=j.a.e.get(o,"__ko__templateSubscriptionDomDataKey__"))&&"function"==typeof p.v&&p.v();j.a.e.set(o,"__ko__templateSubscriptionDomDataKey__",s)}};j.j.D.template=function(o){o=j.j.Y(o);return 1==o.length&&o[0].unknown?h:j.j.rb(o,"name")?h:"This template engine does not support anonymous templates nested within its templates"};j.f.C.template=g})();j.b("ko.setTemplateEngine",j.pa);j.b("ko.renderTemplate",j.na);j.a.N=function(c,l,m){if(m===f){return j.a.N(c,l,1)||j.a.N(c,l,10)||j.a.N(c,l,Number.MAX_VALUE)}for(var c=c||[],l=l||[],o=c,p=l,r=[],q=0;q<=p.length;q++){r[q]=[]}for(var q=0,s=Math.min(o.length,m);q<=s;q++){r[0][q]=q}q=1;for(s=Math.min(p.length,m);q<=s;q++){r[q][0]=q}for(var s=o.length,t,u=p.length,q=1;q<=s;q++){t=Math.max(1,q-m);for(var v=Math.min(u,q+m);t<=v;t++){r[t][q]=o[q-1]===p[t-1]?r[t-1][q-1]:Math.min(r[t-1][q]===f?Number.MAX_VALUE:r[t-1][q]+1,r[t][q-1]===f?Number.MAX_VALUE:r[t][q-1]+1)}}m=c.length;o=l.length;p=[];q=r[o][m];if(q===f){r=h}else{for(;0<m||0<o;){s=r[o][m];u=0<o?r[o-1][m]:q+1;v=0<m?r[o][m-1]:q+1;t=0<o&&0<m?r[o-1][m-1]:q+1;if(u===f||u<s-1){u=q+1}if(v===f||v<s-1){v=q+1}t<s-1&&(t=q+1);u<=v&&u<t?(p.push({status:"added",value:l[o-1]}),o--):(v<u&&v<t?p.push({status:"deleted",value:c[m-1]}):(p.push({status:"retained",value:c[m-1]}),o--),m--)}r=p.reverse()}return r};j.b("ko.utils.compareArrays",j.a.N);(function(){function c(m){if(2<m.length){for(var o=m[0],p=m[m.length-1],q=[o];o!==p;){o=o.nextSibling;if(!o){return}q.push(o)}Array.prototype.splice.apply(m,[0,m.length].concat(q))}}function l(m,o,p,r){var q=[],m=j.i(function(){var s=o(p)||[];0<q.length&&(c(q),j.a.Ja(q,s),r&&r(p,s));q.splice(0,q.length);j.a.J(q,s)},h,{disposeWhenNodeIsRemoved:m,disposeWhen:function(){return 0==q.length||!j.a.ga(q[0])}});return{sb:q,i:m}}j.a.Ka=function(o,p,r,C,B){for(var p=p||[],C=C||{},D=j.a.e.get(o,"setDomNodeChildrenFromArrayMapping_lastMappingResult")===f,E=j.a.e.get(o,"setDomNodeChildrenFromArrayMapping_lastMappingResult")||[],F=j.a.ba(E,function(q){return q.Va}),G=j.a.N(F,p),p=[],J=0,H=[],F=[],L=h,I=0,M=G.length;I<M;I++){switch(G[I].status){case"retained":var N=E[J];p.push(N);0<N.O.length&&(L=N.O[N.O.length-1]);J++;break;case"deleted":E[J].i.v();c(E[J].O);j.a.n(E[J].O,function(q){H.push({element:q,index:I,value:G[I].value});L=q});J++;break;case"added":var N=G[I].value,P=l(o,r,N,B),K=P.sb;p.push({Va:G[I].value,O:K,i:P.i});for(var P=0,O=K.length;P<O;P++){var m=K[P];F.push({element:m,index:I,value:G[I].value});L==h?j.f.xb(o,m):j.f.mb(o,m,L);L=m}B&&B(N,K)}}j.a.n(H,function(q){j.F(q.element)});r=i;if(!D){if(C.afterAdd){for(I=0;I<F.length;I++){C.afterAdd(F[I].element,F[I].index,F[I].value)}}if(C.beforeRemove){for(I=0;I<H.length;I++){C.beforeRemove(H[I].element,H[I].index,H[I].value)}r=g}}r||j.a.n(H,function(q){j.removeNode(q.element)});j.a.e.set(o,"setDomNodeChildrenFromArrayMapping_lastMappingResult",p)}})();j.b("ko.utils.setDomNodeChildrenFromArrayMapping",j.a.Ka);j.p=function(){this.allowTemplateRewriting=i};j.p.prototype=new j.t;j.p.prototype.renderTemplateSource=function(c){c=c.text();return j.a.ma(c)};j.p.M=new j.p;j.pa(j.p.M);j.b("ko.nativeTemplateEngine",j.p);(function(){j.ja=function(){var l=this.qb=function(){if("undefined"==typeof jQuery||!jQuery.tmpl){return 0}try{if(0<=jQuery.tmpl.tag.tmpl.open.toString().indexOf("__")){return 2}}catch(m){}return 1}();this.renderTemplateSource=function(m,o,p){p=p||{};2>l&&b(Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later."));var q=m.data("precompiled");q||(q=m.text()||"",q=jQuery.template(h,"{{ko_with $item.koBindingContext}}"+q+"{{/ko_with}}"),m.data("precompiled",q));m=[o.$data];o=jQuery.extend({koBindingContext:o},p.templateOptions);o=jQuery.tmpl(q,m,o);o.appendTo(document.createElement("div"));jQuery.fragments={};return o};this.createJavaScriptEvaluatorBlock=function(m){return"{{ko_code ((function() { return "+m+" })()) }}"};this.addTemplate=function(m,o){document.write("<script type='text/html' id='"+m+"'>"+o+"</script>")};if(0<l){jQuery.tmpl.tag.ko_code={open:"__.push($1 || '');"},jQuery.tmpl.tag.ko_with={open:"with($1) {",close:"} "}}};j.ja.prototype=new j.t;var c=new j.ja;0<c.qb&&j.pa(c);j.b("ko.jqueryTmplTemplateEngine",j.ja)})()})(window);ko.exportSymbol=function(c,g){for(var a=c.split("."),d=window,b=0;b<a.length-1;b++){d=d[a[b]]}d[a[a.length-1]]=g};ko.exportProperty=function(b,c,a){b[c]=a};(function(){function s(e,g){for(var f in g){g.hasOwnProperty(f)&&g[f]&&(f&&e[f]&&!(e[f] instanceof Array)?s(e[f],g[f]):e[f]=g[f])}}function M(e,g){var f={};s(f,e);s(f,g);return f}function j(e){return e&&"object"===typeof e&&e.constructor==(new Date).constructor?"date":typeof e}function v(e,f){e=e||{};if(e.create instanceof Function||e.update instanceof Function||e.key instanceof Function||e.arrayChanged instanceof Function){e={"":e}}if(f){e.ignore=l(f.ignore,e.ignore),e.include=l(f.include,e.include),e.copy=l(f.copy,e.copy)}e.ignore=l(e.ignore,p.ignore);e.include=l(e.include,p.include);e.copy=l(e.copy,p.copy);e.mappedProperties=e.mappedProperties||{};return e}function l(e,f){e instanceof Array||(e="undefined"===j(e)?[]:[e]);f instanceof Array||(f="undefined"===j(f)?[]:[f]);return e.concat(f)}function y(e,g){var f=ko.dependentObservable;ko.dependentObservable=function(i,m,n){var n=n||{},t=n.deferEvaluation;i&&"object"==typeof i&&(n=i);var q=!1,w=function(z){var A=L({read:function(){q||(ko.utils.arrayRemoveItem(e,z),q=!0);return z.apply(z,arguments)},write:function(B){return z(B)},deferEvaluation:!0});A.__ko_proto__=L;return A};n.deferEvaluation=!0;i=new L(i,m,n);i.__ko_proto__=L;t||(e.push(i),i=w(i));return i};ko.computed=ko.dependentObservable;var h=g();ko.dependentObservable=f;ko.computed=ko.dependentObservable;return h}function P(e,q,m,w,S,z){var V=ko.utils.unwrapObservable(q) instanceof Array,z=z||"";if(ko.mapping.isMapped(e)){var D=ko.utils.unwrapObservable(e)[K],m=M(D,m)}var A=function(){return m[w]&&m[w].create instanceof Function},T=function(f){return y(c,function(){return m[w].create({data:f||q,parent:S})})},B=function(){return m[w]&&m[w].update instanceof Function},H=function(f,h){var g={data:h||q,parent:S,target:ko.utils.unwrapObservable(f)};if(ko.isWriteableObservable(f)){g.observable=f}return m[w].update(g)};if(D=a.get(q)){return D}w=w||"";if(V){var V=[],F=!1,E=function(f){return f};if(m[w]&&m[w].key){E=m[w].key,F=!0}if(!ko.isObservable(e)){e=ko.observableArray([]),e.mappedRemove=function(f){var g="function"==typeof f?f:function(h){return h===E(f)};return e.remove(function(h){return g(E(h))})},e.mappedRemoveAll=function(f){var g=O(f,E);return e.remove(function(h){return -1!=ko.utils.arrayIndexOf(g,E(h))})},e.mappedDestroy=function(f){var g="function"==typeof f?f:function(h){return h===E(f)};return e.destroy(function(h){return g(E(h))})},e.mappedDestroyAll=function(f){var g=O(f,E);return e.destroy(function(h){return -1!=ko.utils.arrayIndexOf(g,E(h))})},e.mappedIndexOf=function(f){var g=O(e(),E),f=E(f);return ko.utils.arrayIndexOf(g,f)},e.mappedCreate=function(f){if(-1!==e.mappedIndexOf(f)){throw Error("There already is an object with the key that you specified.")}var g=A()?T(f):f;B()&&(f=H(g,f),ko.isWriteableObservable(g)?g(f):g=f);e.push(g);return g}}var D=O(ko.utils.unwrapObservable(e),E).sort(),C=O(q,E);F&&C.sort();for(var F=ko.utils.compareArrays(D,C),D={},C=[],G=0,R=F.length;G<R;G++){var Q=F[G],J,I=z+"["+G+"]";switch(Q.status){case"added":var U=b(ko.utils.unwrapObservable(q),Q.value,E);J=ko.utils.unwrapObservable(P(void 0,U,m,w,e,I));I=o(ko.utils.unwrapObservable(q),U,D);C[I]=J;D[I]=!0;break;case"retained":U=b(ko.utils.unwrapObservable(q),Q.value,E);J=b(e,Q.value,E);P(J,U,m,w,e,I);I=o(ko.utils.unwrapObservable(q),U,D);C[I]=J;D[I]=!0;break;case"deleted":J=b(e,Q.value,E)}V.push({event:Q.status,item:J})}e(C);m[w]&&m[w].arrayChanged&&ko.utils.arrayForEach(V,function(f){m[w].arrayChanged(f.event,f.item)})}else{if(d(q)){e=ko.utils.unwrapObservable(e);if(!e){if(A()){return F=T(),B()&&(F=H(F)),F}if(B()){return H(F)}e={}}B()&&(e=H(e));a.save(q,e);r(q,function(f){var g=z.length?z+"."+f:f;if(-1==ko.utils.arrayIndexOf(m.ignore,g)){if(-1!=ko.utils.arrayIndexOf(m.copy,g)){e[f]=q[f]}else{var h=a.get(q[f])||P(e[f],q[f],m,f,e,g);if(ko.isWriteableObservable(e[f])){e[f](ko.utils.unwrapObservable(h))}else{e[f]=h}m.mappedProperties[g]=!0}}})}else{switch(j(q)){case"function":B()?ko.isWriteableObservable(q)?(q(H(q)),e=q):e=H(q):e=q;break;default:ko.isWriteableObservable(e)?B()?e(H(e)):e(ko.utils.unwrapObservable(q)):(e=A()?T():ko.observable(ko.utils.unwrapObservable(q)),B()&&e(H(e)))}}}return e}function o(f,h,g){for(var i=0,m=f.length;i<m;i++){if(!0!==g[i]&&f[i]===h){return i}}return null}function u(e,g){var f;g&&(f=g(e));"undefined"===j(f)&&(f=e);return ko.utils.unwrapObservable(f)}function b(e,g,f){e=ko.utils.arrayFilter(ko.utils.unwrapObservable(e),function(h){return u(h,f)===g});if(0==e.length){throw Error("When calling ko.update*, the key '"+g+"' was not found!")}if(1<e.length&&d(e[0])){throw Error("When calling ko.update*, the key '"+g+"' was not unique!")}return e[0]}function O(e,f){return ko.utils.arrayMap(ko.utils.unwrapObservable(e),function(g){return f?u(g,f):g})}function r(e,g){if(e instanceof Array){for(var f=0;f<e.length;f++){g(f)}}else{for(f in e){g(f)}}}function d(e){var f=j(e);return"object"===f&&null!==e&&"undefined"!==f}function x(){var e=[],f=[];this.save=function(g,h){var i=ko.utils.arrayIndexOf(e,g);0<=i?f[i]=h:(e.push(g),f.push(h))};this.get=function(g){g=ko.utils.arrayIndexOf(e,g);return 0<=g?f[g]:void 0}}ko.mapping={};var K="__ko_mapping__",L=ko.dependentObservable,k=0,c,a,N={include:["_destroy"],ignore:[],copy:[]},p=N;ko.mapping.isMapped=function(e){return(e=ko.utils.unwrapObservable(e))&&e[K]};ko.mapping.fromJS=function(e){if(0==arguments.length){throw Error("When calling ko.fromJS, pass the object you want to convert.")}window.setTimeout(function(){k=0},0);k++||(c=[],a=new x);var g,f;2==arguments.length&&(arguments[1][K]?f=arguments[1]:g=arguments[1]);3==arguments.length&&(g=arguments[1],f=arguments[2]);f&&(g=M(g,f[K]));g=v(g);var h=P(f,e,g);f&&(h=f);--k||window.setTimeout(function(){ko.utils.arrayForEach(c,function(i){i&&i()})},0);h[K]=M(h[K],g);return h};ko.mapping.fromJSON=function(e){var f=ko.utils.parseJson(e);arguments[0]=f;return ko.mapping.fromJS.apply(this,arguments)};ko.mapping.updateFromJS=function(){throw Error("ko.mapping.updateFromJS, use ko.mapping.fromJS instead. Please note that the order of parameters is different!")};ko.mapping.updateFromJSON=function(){throw Error("ko.mapping.updateFromJSON, use ko.mapping.fromJSON instead. Please note that the order of parameters is different!")};ko.mapping.toJS=function(e,f){p||ko.mapping.resetDefaultOptions();if(0==arguments.length){throw Error("When calling ko.mapping.toJS, pass the object you want to convert.")}if(!(p.ignore instanceof Array)){throw Error("ko.mapping.defaultOptions().ignore should be an array.")}if(!(p.include instanceof Array)){throw Error("ko.mapping.defaultOptions().include should be an array.")}if(!(p.copy instanceof Array)){throw Error("ko.mapping.defaultOptions().copy should be an array.")}f=v(f,e[K]);return ko.mapping.visitModel(e,function(g){return ko.utils.unwrapObservable(g)},f)};ko.mapping.toJSON=function(e,g){var f=ko.mapping.toJS(e,g);return ko.utils.stringifyJson(f)};ko.mapping.defaultOptions=function(){if(0<arguments.length){p=arguments[0]}else{return p}};ko.mapping.resetDefaultOptions=function(){p={include:N.include.slice(0),ignore:N.ignore.slice(0),copy:N.copy.slice(0)}};ko.mapping.visitModel=function(e,i,g){g=g||{};g.visitedObjects=g.visitedObjects||new x;g.parentName||(g=v(g));var m,n=ko.utils.unwrapObservable(e);if(d(n)){i(e,g.parentName),m=n instanceof Array?[]:{}}else{return i(e,g.parentName)}g.visitedObjects.save(e,m);var q=g.parentName;r(n,function(f){if(!(g.ignore&&-1!=ko.utils.arrayIndexOf(g.ignore,f))){var w=n[f],t=g,h=q||"";n instanceof Array?q&&(h+="["+f+"]"):(q&&(h+="."),h+=f);t.parentName=h;if(!(-1===ko.utils.arrayIndexOf(g.copy,f)&&-1===ko.utils.arrayIndexOf(g.include,f)&&n[K]&&n[K].mappedProperties&&!n[K].mappedProperties[f]&&!(n instanceof Array))){switch(j(ko.utils.unwrapObservable(w))){case"object":case"undefined":t=g.visitedObjects.get(w);m[f]="undefined"!==j(t)?t:ko.mapping.visitModel(w,i,g);break;default:m[f]=i(w,g.parentName)}}}});return m};ko.exportSymbol("ko.mapping",ko.mapping);ko.exportSymbol("ko.mapping.fromJS",ko.mapping.fromJS);ko.exportSymbol("ko.mapping.fromJSON",ko.mapping.fromJSON);ko.exportSymbol("ko.mapping.isMapped",ko.mapping.isMapped);ko.exportSymbol("ko.mapping.defaultOptions",ko.mapping.defaultOptions);ko.exportSymbol("ko.mapping.toJS",ko.mapping.toJS);ko.exportSymbol("ko.mapping.toJSON",ko.mapping.toJSON);ko.exportSymbol("ko.mapping.updateFromJS",ko.mapping.updateFromJS);ko.exportSymbol("ko.mapping.updateFromJSON",ko.mapping.updateFromJSON);ko.exportSymbol("ko.mapping.visitModel",ko.mapping.visitModel)})();if(window.Mums==undefined){window.Mums={}}if(window.Mums.Canvas==undefined){window.Mums.Canvas={}}Mums.Canvas.StrokeWidth=10;Mums.Canvas.CanvasSize=60;Mums.Canvas.StartAngle=Math.PI;Mums.Canvas.StyleInProgress="rgba(150,0,0,0.5)";Mums.Canvas.StyleFinished="rgba(0,70,0,0.5)";Mums.Canvas.Render=function(a,c){var b=Mums.Canvas.StartAngle+c*2*Math.PI;var d=(c>=1)?Mums.Canvas.StyleFinished:Mums.Canvas.StyleInProgress;Mums.Canvas.StrokeArcs(a,b,d)};Mums.Canvas.StrokeArcs=function(a,f,h){var d=a.getContext("2d");d.lineWidth=Mums.Canvas.StrokeWidth;var b=Mums.Canvas.CanvasSize/2;var c=Mums.Canvas.CanvasSize/2;var g=(Mums.Canvas.CanvasSize-Mums.Canvas.StrokeWidth)/2;var e=false;d.clearRect(0,0,a.width,a.height);d.beginPath();d.arc(b,c,g,0,2*Math.PI,e);d.strokeStyle="rgba(0,0,0,0.1)";d.stroke();d.beginPath();d.arc(b,c,g,Mums.Canvas.StartAngle,f,e);d.strokeStyle=h;d.stroke()};if(window.Format==undefined){window.Format={}}Format.Percentage=function(a){return Math.floor(a)};Format.Label=function(a){if(a&&a!=""){return"<strong>Label:</strong> "+a}return""};Format.PrettySize=function(a){return Format.FriendlyRate(a,["b","kb","mb","gb"])};Format.FriendlyRate=function(c,e,a){e=e||["b","kb","Mb","Gb"];a=a||1024;for(var b=0;b<e.length;b++){var d=e[b];if(c<10){if(b==0){return Math.round(c)+d}else{return Math.round(c*10)/10+d}}else{if(c<a){return Math.round(c)+d}}c=c/a}return"0"+e[0]};Format.PrettySpeed=function(a){return Format.FriendlyRate(a,["b/s","kb/s","mb/s","gb/s"])};Format.PrettyEta=function(a){if(!a||a==undefined||a<=0||a==NaN){return""}var c=false;var b="";var e={d:"dag",t:"timme",m:"minut",s:"sekund"};var d={d:"dagar",t:"timmar",m:"minuter",s:"sekunder"};var f={d:86400,t:3600,m:60,s:1};$.each(f,function(i,h){if(b!=""){return false}if(a>=h){var g=a;if(h>0){g=a/h}if(g>=100){b=""}else{g=Math.floor(g);if(g==1){i=e[i]}else{i=d[i]}b=g+" "+i}}});return b};if(window.UTorrent==undefined){window.UTorrent={}}UTorrent.Enums={Status:{STARTED:1,CHECKING:2,"CHECK-START":4,CHECKED:8,ERROR:16,PAUSED:32,QUEUED:64,LOADED:128},States:{Paused:"Pausad",Seeding:"Seedar",Downloading:"Laddar ner",Checking:"Kontrollerar",Error:"Fel",QueuedSeed:"Köad uppladdning",QueuedDownload:"Köad nedladdning",Finished:"Klar",Stopped:"Stoppad"}};UTorrent.ParseStatus=function(b,a){if(b&UTorrent.Enums.Status.STARTED){if(b&UTorrent.Enums.Status.PAUSED){return UTorrent.Enums.States.Paused}else{if(a){return UTorrent.Enums.States.Seeding}}return UTorrent.Enums.States.Downloading}if(b&UTorrent.Enums.Status.CHECKING){return UTorrent.Enums.States.Checking}if(b&UTorrent.Enums.Status.ERROR){return UTorrent.Enums.States.Error}if(b&UTorrent.Enums.Status.QUEUED){if(a){return UTorrent.Enums.States.QueuedSeed}return UTorrent.Enums.States.QueuedDownload}if(a){return UTorrent.Enums.States.Finished}return UTorrent.Enums.States.Stopped};if(window.Mums==undefined){window.Mums={}}if(window.Mums.Knockout==undefined){window.Mums.Knockout={}}Mums.Knockout.SectionMapping={Sections:{key:function(a){return ko.utils.unwrapObservable(a.Id)},create:function(a){return new Mums.Knockout.SectionModel(a)}},LatestEpisodes:{key:function(a){return ko.utils.unwrapObservable(a.Id)},create:function(a){return new Mums.Knockout.EpisodeModel(a)}}};Mums.Knockout.TorrentMapping={Torrents:{key:function(a){return ko.utils.unwrapObservable(a.Hash)},create:function(a){return new Mums.Knockout.TorrentModel(a)}}};Mums.Knockout.EpisodeModel=function(a){var b=this;ko.mapping.fromJS(a.data,{},b);b.Subtext=ko.computed(function(){var c=Format.PrettyEta(b.SecondsSinceAdded());return"tillagd för "+c+" sedan"})};Mums.Knockout.TorrentModel=function(a){var b=this;ko.mapping.fromJS(a.data,{},b);var c=function(d,f){var g=Format.PrettySize(d);var e=Format.PrettyEta(f);return'<span class="size">'+g+'</span>, <span class="eta">'+e+" kvar </span>"};b.Subtext=ko.computed(function(){var d=b.Percentage()>=100;var e=UTorrent.ParseStatus(b.Status(),d);switch(e){case UTorrent.Enums.States.Downloading:return c(b.SizeInBytes(),b.EstimatedTimeSeconds());default:return"na"}})};Mums.Knockout.SectionModel=function(a){var b=this;ko.mapping.fromJS(a.data,Mums.Knockout.TorrentMapping,b);b.Name=ko.computed(function(){return UTorrent.ParseStatus(b.Status(),b.Finished())})};Mums.Knockout.CanvasHandler=function(a,c){var b=ko.utils.unwrapObservable(c())/100;Mums.Canvas.Render(a,b)};Mums.Knockout.Init=function(a){if(!a.LatestEpisodes){a.LatestEpisodes=[]}if(!a.Sections){a.Sections=[]}Mums.Knockout.ViewModel=ko.mapping.fromJS(a,Mums.Knockout.SectionMapping);Mums.Knockout.ViewModel.Finished=ko.computed(function(){var d=0;var e=Mums.Knockout.ViewModel.Sections();for(var b=0;b<e.length;b++){var g=e[b].Torrents();for(var f=0;f<g.length;f++){if(g[f].Percentage()>=100){d++}}}return d});ko.applyBindings(Mums.Knockout.ViewModel)};Mums.Knockout.UpdateModel=function(a){if(Mums.Knockout.ViewModel==undefined){Mums.Knockout.Init(a)}ko.mapping.fromJS(a,Mums.Knockout.ViewModel)};Mums.Knockout.UpdateEpisodes=function(a){if(Mums.Knockout.ViewModel==undefined){Mums.Knockout.Init(a)}ko.mapping.fromJS(a,Mums.Knockout.ViewModel)};window.Index={};Index.poll=function(){Mums.Root.Ajax("/Root/GetTorrents/",{},function(a){Mums.Knockout.UpdateModel(a);setTimeout("Index.poll()",2*1000)})};Index.pollEpisodes=function(){Mums.Root.Ajax("/Root/GetEpisodes/",{},function(a){Mums.Knockout.UpdateEpisodes(a);setTimeout("Index.pollEpisodes()",60*1000)})};Index.init=function(){Index.poll();Index.pollEpisodes()};if(window.Mums==undefined){window.Mums={}}if(window.Mums.Root==undefined){window.Mums.Root={}}Mums.Root.Init=function(){$(document).ready(Mums.Root.Ready)};Mums.Root.RemoveTorrent=function(b){var a=Mums.Root.GetNextWrapper(b);if(a.length==0){a=Mums.Root.GetPrevWrapper(b)}Mums.Root.Ajax($("#removeTorrentLink").attr("href"),{hash:b},function(){Mums.Root.HideTorrentActions()});$(":hidden[name=Hash][value="+b+"]").closest(".torrent-wrapper").fadeOut();Mums.Root.SetCurrWrapper(a)};Mums.Root.Ready=function(){$("#txtAddFile").change(function(){var a=$(this).closest(".addWrapper").find(".labelWrapper").show();$(document).one("mousedown",function(){a.hide()})});$("#txtAddUrl").focus(function(){var a=$(this).closest(".addWrapper").find(".labelWrapper").show();$(document).one("mousedown",function(){a.hide()})});$(".addWrapper a").click(function(a){$(this).closest("form").find(":submit").click();a.preventDefault();return false});$(".labelWrapper").mousedown(function(a){a.stopPropagation()});$("#set-label-link").mousedown(function(a){if($("#set-label-wrapper").is(":visible")){$("#set-label-wrapper").hide()}else{Mums.Root.Ajax("/Root/GetTorrent/",{hash:$("#hdnHash").val()},function(b){var c=b.Label||"";$("#set-label-wrapper").show();$("#set-label-select").val(c).focus()})}a.preventDefault();a.stopPropagation();return false});$("#set-label-wrapper a").click(function(a){var b=$("#set-label-select").val();Mums.Root.Ajax("/Root/SetLabel/",{newLabel:b,hash:$("#hdnHash").val()},function(c){});Mums.Root.HideTorrentActions();a.preventDefault();a.stopPropagation();return false});$("#set-label-wrapper").mousedown(function(a){a.stopPropagation()});$("#removeTorrentLink").mousedown(function(a){var b=$("#hdnHash").val();Mums.Root.RemoveTorrent(b);a.preventDefault();a.stopPropagation();return false});$("#torrent-actions a").not("#set-label-link").not("#set-label-wrapper a").not("#removeTorrentLink").mousedown(function(a){Mums.Root.Ajax($(this).attr("href"),{hash:$("#hdnHash").val()},function(){Mums.Root.HideTorrentActions()});a.preventDefault();a.stopPropagation();return false});$("#torrent-actions a").click(function(a){a.preventDefault();a.stopPropagation();return false});Mums.Root.InitGlobalKeys();Mums.Root.InitTools();Mums.Root.StartPolling()};Mums.Root.GetCurrWrapper=function(a){return $(":hidden[name=Hash][value="+a+"]").closest(".torrent-wrapper")};Mums.Root.GetNextWrapper=function(c){var a=Mums.Root.GetCurrWrapper(c);var b=a.next(".torrent-wrapper");if(b){return b}return a.closest(".section-wrapper").next(".section-wrapper").find(".torrent-wrapper:first")};Mums.Root.GetPrevWrapper=function(c){var a=Mums.Root.GetCurrWrapper(c);var b=a.prev(".torrent-wrapper");if(b){return b}return a.closest(".section-wrapper").prev(".section-wrapper").find(".torrent-wrapper:last")};Mums.Root.SetCurrWrapper=function(a){var b=a.find(":hidden[name=Hash]");if(b.length==1){Mums.Root.HideTorrentActions();Mums.Knockout.ViewModel.SelectedHash(b.val())}};Mums.Root.InitGlobalKeys=function(){$(document).keydown(function(c){switch(c.keyCode){case 13:Mums.Root.TorrentActions(Mums.Knockout.ViewModel.SelectedHash());return false;case 27:Mums.Root.HideTorrentActions();return false;case 38:var b=Mums.Root.GetPrevWrapper(Mums.Knockout.ViewModel.SelectedHash());if(b){Mums.Root.SetCurrWrapper(b);return false}break;case 40:var a=Mums.Root.GetNextWrapper(Mums.Knockout.ViewModel.SelectedHash());if(a){Mums.Root.SetCurrWrapper(a);return false}break;case 46:Mums.Root.RemoveTorrent(Mums.Knockout.ViewModel.SelectedHash());break}})};Mums.Root.InitTools=function(){$("#tools a").click(function(a){var b=$(this);if(confirm("Är du säker?")){Mums.Root.Ajax(b.attr("href"),{},function(){b.fadeOut("fast")})}a.preventDefault();return false})};Mums.Root.StartPolling=function(){Mums.Root.Ajax("/Root/GetTorrents/",{},function(a){Mums.Knockout.UpdateModel(a);setTimeout("Mums.Root.StartPolling()",3000)})};Mums.Root.TorrentActions=function(b){var a=$(".percentage :hidden[value="+b+"]").closest(".percentage");var d=a.position();var c=a.next(".title").find(".label:first").position().left;var e=d.top+a.height()-$("#torrent-actions").height()-5;Mums.Knockout.ViewModel.SelectedHash(b);$("#torrent-actions").css("left",c).css("top",e).fadeIn("fast");$("#hdnHash").val(b);$(document).one("mousedown",function(){Mums.Root.HideTorrentActions()});$("#torrent-actions").find("a:first").focus();return false};Mums.Root.HideTorrentActions=function(){$("#torrent-actions").hide();$("#set-label-wrapper").hide()};Mums.Root.ShowError=function(a,b){if($("#error").length==0){$("<div />").attr("id","error").append("<h5 />").append("<div />").insertAfter("#overlay").append($("<a />").addClass("awesome").attr("href","./").text("Ladda om"))}$("#error h5:first").text(a);$("#error div:first").html(b);$("#overlay, #error").fadeIn("fast")};Mums.Root.Ajax=function(c,b,a){$.post(c,b,function(d){if(d.Ok===false){console.log(d);Mums.Root.ShowError("Kunde inte hämta data","<p><strong>Url: </strong>"+c+"</p><p><strong>ErrorMessage:</strong> "+d.ErrorMessage+"</p>")}else{a(d)}}).error(function(f,d,e){console.log(f);console.log(d);console.log(e);Mums.Root.ShowError("XHR error","<strong>jqXHR status:</strong> "+f.status+"<br /><strong>errorType:</strong> "+d+"<br /><strong>excObj:</strong> "+e)})};