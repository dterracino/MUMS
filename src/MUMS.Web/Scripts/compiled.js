(function(y){var P=y.fn.domManip,B="_tmplitem",O=/^[^<]*(<[\w\W]+>)[^>]*$|\{\{\! /,z={},D={},C,N={key:0,data:{}},G=0,A=0,J=[];function E(i,b,j,f){var a={data:f||(f===0||f===false)?f:b?b.data:{},_wrap:b?b._wrap:null,tmpl:null,parent:b||null,nodes:[],calls:S,nest:U,wrap:V,html:T,update:R};i&&y.extend(a,i,{nodes:[],parent:b});if(j){a.tmpl=j;a._ctnt=a._ctnt||a.tmpl(y,a);a.key=++G;(J.length?D:z)[G]=a}return a}y.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(b,a){y.fn[b]=function(r){var c=[],e=y(r),o,d,q,p,f=this.length===1&&this[0].parentNode;C=z||{};if(f&&f.nodeType===11&&f.childNodes.length===1&&e.length===1){e[a](this[0]);c=this}else{for(d=0,q=e.length;d<q;d++){A=d;o=(d>0?this.clone(true):this).get();y(e[d])[a](o);c=c.concat(o)}A=0;c=this.pushStack(c,b,e.selector)}p=C;C=null;y.tmpl.complete(p);return c}});y.fn.extend({tmpl:function(f,e,a){return y.tmpl(this[0],f,e,a)},tmplItem:function(){return y.tmplItem(this[0])},template:function(a){return y.template(a,this[0])},domManip:function(a,p,o){if(a[0]&&y.isArray(a[0])){var c=y.makeArray(arguments),e=a[0],n=e.length,l=0,b;while(l<n&&!(b=y.data(e[l++],"tmplItem"))){}if(b&&A){c[2]=function(d){y.tmpl.afterManip(this,d,o)}}P.apply(this,c)}else{P.apply(this,arguments)}A=0;!C&&y.tmpl.complete(z);return this}});y.extend({tmpl:function(b,g,f,a){var j,l=!a;if(l){a=N;b=y.template[b]||y.template(null,b);D={}}else{if(!b){b=a.tmpl;z[a.key]=a;a.nodes=[];a.wrapped&&L(a,a.wrapped);return y(H(a,null,a.tmpl(y,a)))}}if(!b){return[]}if(typeof g==="function"){g=g.call(a||{})}f&&f.wrapped&&L(f,f.wrapped);j=y.isArray(g)?y.map(g,function(c){return c?E(f,a,b,c):null}):[E(f,a,b,g)];return l?y(H(a,null,j)):j},tmplItem:function(a){var d;if(a instanceof y){a=a[0]}while(a&&a.nodeType===1&&!(d=y.data(a,"tmplItem"))&&(a=a.parentNode)){}return d||N},template:function(d,a){if(a){if(typeof a==="string"){a=M(a)}else{if(a instanceof y){a=a[0]||{}}}if(a.nodeType){a=y.data(a,"tmpl")||y.data(a,"tmpl",M(a.innerHTML))}return typeof d==="string"?(y.template[d]=a):a}return d?typeof d!=="string"?y.template(null,d):y.template[d]||y.template(null,O.test(d)?d:y(d)):null},encode:function(b){return(""+b).split("<").join("&lt;").split(">").join("&gt;").split('"').join("&#34;").split("'").join("&#39;")}});y.extend(y.tmpl,{tag:{tmpl:{_default:{$2:"null"},open:"if($notnull_1){__=__.concat($item.nest($1,$2));}"},wrap:{_default:{$2:"null"},open:"$item.calls(__,$1,$2);__=[];",close:"call=$item.calls();__=call._.concat($item.wrap(call,__));"},each:{_default:{$2:"$index, $value"},open:"if($notnull_1){$.each($1a,function($2){with(this){",close:"}});}"},"if":{open:"if(($notnull_1) && $1a){",close:"}"},"else":{_default:{$1:"true"},open:"}else if(($notnull_1) && $1a){"},html:{open:"if($notnull_1){__.push($1a);}"},"=":{_default:{$1:"$data"},open:"if($notnull_1){__.push($.encode($1a));}"},"!":{open:""}},complete:function(){z={}},afterManip:function(h,a,c){var g=a.nodeType===11?y.makeArray(a.childNodes):a.nodeType===1?[a]:[];c.call(h,a);K(g);A++}});function H(h,j,i){var a,d=i?y.map(i,function(b){return typeof b==="string"?h.key?b.replace(/(<\w+)(?=[\s>])(?![^>]*_tmplitem)([^>]*)/g,"$1 "+B+'="'+h.key+'" $2'):b:H(b,h,b._ctnt)}):h;if(j){return d}d=d.join("");d.replace(/^\s*([^<\s][^<]*)?(<[\w\W]+>)([^>]*[^>\s])?\s*$/,function(l,b,k,g){a=y(k).get();K(a);if(b){a=I(b).concat(a)}if(g){a=a.concat(I(g))}});return a?a:I(d)}function I(d){var a=document.createElement("div");a.innerHTML=d;return y.makeArray(a.childNodes)}function M(a){return new Function("jQuery","$item","var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('"+y.trim(a).replace(/([\\'])/g,"\\$1").replace(/[\r\t\n]/g," ").replace(/\$\{([^\}]*)\}/g,"{{= $1}}").replace(/\{\{(\/?)(\w+|.)(?:\(((?:[^\}]|\}(?!\}))*?)?\))?(?:\s+(.*?)?)?(\(((?:[^\}]|\}(?!\}))*?)\))?\s*\}\}/g,function(w,v,u,r,h,n,o){var t=y.tmpl.tag[u],s,p,q;if(!t){throw"Unknown template tag: "+u}s=t._default||[];if(n&&!/\w$/.test(h)){h+=n;n=""}if(h){h=F(h);o=o?","+F(o)+")":n?")":"";p=n?h.indexOf(".")>-1?h+F(n):"("+h+").call($item"+o:h;q=n?p:"(typeof("+h+")==='function'?("+h+").call($item):("+h+"))"}else{q=p=s.$1||"null"}r=F(r);return"');"+t[v?"close":"open"].split("$notnull_1").join(h?"typeof("+h+")!=='undefined' && ("+h+")!=null":"true").split("$1a").join(q).split("$1").join(p).split("$2").join(r||s.$2||"")+"__.push('"})+"');}return __;")}function L(d,a){d._wrap=H(d,true,y.isArray(a)?a:[O.test(a)?a:y(a).html()]).join("")}function F(b){return b?b.replace(/\\'/g,"'").replace(/\\\\/g,"\\"):null}function Q(d){var c=document.createElement("div");c.appendChild(d.cloneNode(true));return c.innerHTML}function K(q){var i="_"+A,d,c,f={},a,r,b;for(a=0,r=q.length;a<r;a++){if((d=q[a]).nodeType!==1){continue}c=d.getElementsByTagName("*");for(b=c.length-1;b>=0;b--){g(c[b])}g(d)}function g(s){var w,n=s,t,l,u;if(u=s.getAttribute(B)){while(n.parentNode&&(n=n.parentNode).nodeType===1&&!(w=n.getAttribute(B))){}if(w!==u){n=n.parentNode?n.nodeType===11?0:n.getAttribute(B)||0:0;if(!(l=z[u])){l=D[u];l=E(l,z[n]||D[n]);l.key=++G;z[G]=l}A&&v(u)}s.removeAttribute(B)}else{if(A&&(l=y.data(s,"tmplItem"))){v(l.key);z[l.key]=l;n=y.data(s.parentNode,"tmplItem");n=n?n.key:0}}if(l){t=l;while(t&&t.key!=n){t.nodes.push(s);t=t.parent}delete l._ctnt;delete l._wrap;y.data(s,"tmplItem",l)}function v(e){e=e+i;l=f[e]=f[e]||E(l,z[l.parent.key+i]||l.parent)}}}function S(e,h,g,f){if(!e){return J.pop()}J.push({_:e,tmpl:h,item:this,data:g,options:f})}function U(f,e,a){return y.tmpl(y.template(f),e,a,this)}function V(a,f){var e=a.options||{};e.wrapped=f;return y.tmpl(y.template(a.tmpl),a.data,e,a.item)}function T(f,e){var a=this._wrap;return y.map(y(y.isArray(a)?a.join(""):a).filter(f||"*"),function(b){return e?b.innerText||b.textContent:b.outerHTML||Q(b)})}function R(){var a=this.nodes;y.tmpl(null,null,null,this).insertBefore(a[0]);y(a).remove()}})(jQuery);(function(g,f){function a(c){throw c}var b=void 0,d=null,e=g.ko={};e.b=function(l,k){for(var j=l.split("."),c=g,m=0;m<j.length-1;m++){c=c[j[m]]}c[j[j.length-1]]=k};e.i=function(k,j,c){k[j]=c};e.a=new function(){function n(j,k){if(j.tagName!="INPUT"||!j.type){return !1}if(k.toLowerCase()!="click"){return !1}var u=j.type.toLowerCase();return u=="checkbox"||u=="radio"}var m=/^(\s|\u00A0)+|(\s|\u00A0)+$/g,l=/MSIE 6/i.test(navigator.userAgent),c=/MSIE 7/i.test(navigator.userAgent),o={},q={};o[/Firefox\/2/i.test(navigator.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"];o.MouseEvents=["click","dblclick","mousedown","mouseup","mousemove","mouseover","mouseout","mouseenter","mouseleave"];for(var p in o){var r=o[p];if(r.length){for(var t=0,s=r.length;t<s;t++){q[r[t]]=p}}}return{ca:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],g:function(j,k){for(var u=0,v=j.length;u<v;u++){k(j[u])}},h:function(j,k){if(typeof j.indexOf=="function"){return j.indexOf(k)}for(var u=0,v=j.length;u<v;u++){if(j[u]===k){return u}}return -1},xa:function(j,k,u){for(var v=0,w=j.length;v<w;v++){if(k.call(u,j[v])){return j[v]}}return d},N:function(j,k){var u=e.a.h(j,k);u>=0&&j.splice(u,1)},L:function(j){for(var j=j||[],k=[],u=0,v=j.length;u<v;u++){e.a.h(k,j[u])<0&&k.push(j[u])}return k},M:function(j,k){for(var j=j||[],u=[],v=0,w=j.length;v<w;v++){u.push(k(j[v]))}return u},K:function(j,k){for(var j=j||[],u=[],v=0,w=j.length;v<w;v++){k(j[v])&&u.push(j[v])}return u},u:function(j,k){for(var u=0,v=k.length;u<v;u++){j.push(k[u])}},Q:function(j){for(;j.firstChild;){e.removeNode(j.firstChild)}},Xa:function(j,k){e.a.Q(j);k&&e.a.g(k,function(u){j.appendChild(u)})},ka:function(j,k){var u=j.nodeType?[j]:j;if(u.length>0){for(var v=u[0],w=v.parentNode,y=0,x=k.length;y<x;y++){w.insertBefore(k[y],v)}y=0;for(x=u.length;y<x;y++){e.removeNode(u[y])}}},ma:function(j,k){navigator.userAgent.indexOf("MSIE 6")>=0?j.setAttribute("selected",k):j.selected=k},da:function(j,k){if(!j||j.nodeType!=1){return[]}var u=[];j.getAttribute(k)!==d&&u.push(j);for(var v=j.getElementsByTagName("*"),w=0,x=v.length;w<x;w++){v[w].getAttribute(k)!==d&&u.push(v[w])}return u},k:function(j){return(j||"").replace(m,"")},ab:function(j,k){for(var u=[],v=(j||"").split(k),w=0,y=v.length;w<y;w++){var x=e.a.k(v[w]);x!==""&&u.push(x)}return u},Za:function(j,k){j=j||"";if(k.length>j.length){return !1}return j.substring(0,k.length)===k},Ha:function(j,k){if(k===b){return(new Function("return "+j))()}return(new Function("sc","with(sc) { return ("+j+") }"))(k)},Fa:function(j,k){if(k.compareDocumentPosition){return(k.compareDocumentPosition(j)&16)==16}for(;j!=d;){if(j==k){return !0}j=j.parentNode}return !1},P:function(j){return e.a.Fa(j,document)},t:function(j,k,u){if(typeof jQuery!="undefined"){if(n(j,k)){var v=u,u=function(w,x){var y=this.checked;if(x){this.checked=x.Aa!==!0}v.call(this,w);this.checked=y}}jQuery(j).bind(k,u)}else{typeof j.addEventListener=="function"?j.addEventListener(k,u,!1):typeof j.attachEvent!="undefined"?j.attachEvent("on"+k,function(w){u.call(j,w)}):a(Error("Browser doesn't support addEventListener or attachEvent"))}},qa:function(j,k){(!j||!j.nodeType)&&a(Error("element must be a DOM node when calling triggerEvent"));if(typeof jQuery!="undefined"){var u=[];n(j,k)&&u.push({Aa:j.checked});jQuery(j).trigger(k,u)}else{if(typeof document.createEvent=="function"){typeof j.dispatchEvent=="function"?(u=document.createEvent(q[k]||"HTMLEvents"),u.initEvent(k,!0,!0,g,0,0,0,0,0,!1,!1,!1,!1,0,j),j.dispatchEvent(u)):a(Error("The supplied element doesn't support dispatchEvent"))}else{if(typeof j.fireEvent!="undefined"){if(k=="click"&&j.tagName=="INPUT"&&(j.type.toLowerCase()=="checkbox"||j.type.toLowerCase()=="radio")){j.checked=j.checked!==!0}j.fireEvent("on"+k)}else{a(Error("Browser doesn't support triggering events"))}}}},d:function(j){return e.C(j)?j():j},Ea:function(j,k){return e.a.h((j.className||"").split(/\s+/),k)>=0},pa:function(j,k,u){var v=e.a.Ea(j,k);if(u&&!v){j.className=(j.className||"")+" "+k}else{if(v&&!u){for(var u=(j.className||"").split(/\s+/),v="",w=0;w<u.length;w++){u[w]!=k&&(v+=u[w]+" ")}j.className=e.a.k(v)}}},Ua:function(j,k){for(var j=e.a.d(j),k=e.a.d(k),u=[],v=j;v<=k;v++){u.push(v)}return u},U:function(j){for(var k=[],u=0,v=j.length;u<v;u++){k.push(j[u])}return k},S:l,Ma:c,ea:function(j,k){for(var u=e.a.U(j.getElementsByTagName("INPUT")).concat(e.a.U(j.getElementsByTagName("TEXTAREA"))),v=typeof k=="string"?function(y){return y.name===k}:function(y){return k.test(y.name)},w=[],x=u.length-1;x>=0;x--){v(u[x])&&w.push(u[x])}return w},F:function(j){if(typeof j=="string"&&(j=e.a.k(j))){if(g.JSON&&g.JSON.parse){return g.JSON.parse(j)}return(new Function("return "+j))()}return d},Y:function(j){(typeof JSON=="undefined"||typeof JSON.stringify=="undefined")&&a(Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js"));return JSON.stringify(e.a.d(j))},Ta:function(v,w,x){var x=x||{},y=x.params||{},z=x.includeFields||this.ca,B=v;if(typeof v=="object"&&v.tagName=="FORM"){for(var B=v.action,A=z.length-1;A>=0;A--){for(var C=e.a.ea(v,z[A]),E=C.length-1;E>=0;E--){y[C[E].name]=C[E].value}}}var w=e.a.d(w),D=document.createElement("FORM");D.style.display="none";D.action=B;D.method="post";for(var F in w){v=document.createElement("INPUT"),v.name=F,v.value=e.a.Y(e.a.d(w[F])),D.appendChild(v)}for(F in y){v=document.createElement("INPUT"),v.name=F,v.value=y[F],D.appendChild(v)}document.body.appendChild(D);x.submitter?x.submitter(D):D.submit();setTimeout(function(){D.parentNode.removeChild(D)},0)}}};e.b("ko.utils",e.a);e.b("ko.utils.arrayForEach",e.a.g);e.b("ko.utils.arrayFirst",e.a.xa);e.b("ko.utils.arrayFilter",e.a.K);e.b("ko.utils.arrayGetDistinctValues",e.a.L);e.b("ko.utils.arrayIndexOf",e.a.h);e.b("ko.utils.arrayMap",e.a.M);e.b("ko.utils.arrayPushAll",e.a.u);e.b("ko.utils.arrayRemoveItem",e.a.N);e.b("ko.utils.fieldsIncludedWithJsonPost",e.a.ca);e.b("ko.utils.getElementsHavingAttribute",e.a.da);e.b("ko.utils.getFormFields",e.a.ea);e.b("ko.utils.postJson",e.a.Ta);e.b("ko.utils.parseJson",e.a.F);e.b("ko.utils.registerEventHandler",e.a.t);e.b("ko.utils.stringifyJson",e.a.Y);e.b("ko.utils.range",e.a.Ua);e.b("ko.utils.toggleDomNodeCssClass",e.a.pa);e.b("ko.utils.triggerEvent",e.a.qa);e.b("ko.utils.unwrapObservable",e.a.d);Function.prototype.bind||(Function.prototype.bind=function(k){var j=this,c=Array.prototype.slice.call(arguments),k=c.shift();return function(){return j.apply(k,c.concat(Array.prototype.slice.call(arguments)))}});e.a.e=new function(){var k=0,j="__ko__"+(new Date).getTime(),c={};return{get:function(l,m){var n=e.a.e.getAll(l,!1);return n===b?b:n[m]},set:function(l,m,n){n===b&&e.a.e.getAll(l,!1)===b||(e.a.e.getAll(l,!0)[m]=n)},getAll:function(l,m){var n=l[j];if(!n){if(!m){return}n=l[j]="ko"+k++;c[n]={}}return c[n]},clear:function(l){var m=l[j];m&&(delete c[m],l[j]=d)}}};e.a.p=new function(){function k(l,m){var n=e.a.e.get(l,c);n===b&&m&&(n=[],e.a.e.set(l,c,n));return n}function j(l){var m=k(l,!1);if(m){for(var m=m.slice(0),n=0;n<m.length;n++){m[n](l)}}e.a.e.clear(l);typeof jQuery=="function"&&typeof jQuery.cleanData=="function"&&jQuery.cleanData([l])}var c="__ko_domNodeDisposal__"+(new Date).getTime();return{ba:function(l,m){typeof m!="function"&&a(Error("Callback must be a function"));k(l,!0).push(m)},ja:function(l,m){var n=k(l,!1);n&&(e.a.N(n,m),n.length==0&&e.a.e.set(l,c,b))},v:function(l){if(!(l.nodeType!=1&&l.nodeType!=9)){j(l);var m=[];e.a.u(m,l.getElementsByTagName("*"));for(var l=0,n=m.length;l<n;l++){j(m[l])}}},removeNode:function(l){e.v(l);l.parentNode&&l.parentNode.removeChild(l)}}};e.v=e.a.p.v;e.removeNode=e.a.p.removeNode;e.b("ko.cleanNode",e.v);e.b("ko.removeNode",e.removeNode);e.b("ko.utils.domNodeDisposal",e.a.p);e.b("ko.utils.domNodeDisposal.addDisposeCallback",e.a.p.ba);e.b("ko.utils.domNodeDisposal.removeDisposeCallback",e.a.p.ja);e.a.Sa=function(k){if(typeof jQuery!="undefined"){k=jQuery.clean([k])}else{var j=e.a.k(k).toLowerCase(),c=document.createElement("div"),j=j.match(/^<(thead|tbody|tfoot)/)&&[1,"<table>","</table>"]||!j.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!j.indexOf("<td")||!j.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||[0,"",""];for(c.innerHTML=j[1]+k+j[2];j[0]--;){c=c.lastChild}k=e.a.U(c.childNodes)}return k};e.a.Ya=function(l,k){e.a.Q(l);if(k!==d&&k!==b){if(typeof k!="string"&&(k=k.toString()),typeof jQuery!="undefined"){jQuery(l).html(k)}else{for(var j=e.a.Sa(k),c=0;c<j.length;c++){l.appendChild(j[c])}}}};e.l=function(){function k(){return((1+Math.random())*4294967296|0).toString(16).substring(1)}function j(l,m){if(l){if(l.nodeType==8){var n=e.l.ha(l.nodeValue);n!=d&&m.push({Da:l,Pa:n})}else{if(l.nodeType==1){for(var n=0,o=l.childNodes,p=o.length;n<p;n++){j(o[n],m)}}}}}var c={};return{V:function(l){typeof l!="function"&&a(Error("You can only pass a function to ko.memoization.memoize()"));var m=k()+k();c[m]=l;return"<!--[ko_memo:"+m+"]-->"},ra:function(l,m){var n=c[l];n===b&&a(Error("Couldn't find any memo with ID "+l+". Perhaps it's already been unmemoized."));try{return n.apply(d,m||[]),!0}finally{delete c[l]}},sa:function(l,m){var n=[];j(l,n);for(var o=0,p=n.length;o<p;o++){var r=n[o].Da,q=[r];m&&e.a.u(q,m);e.l.ra(n[o].Pa,q);r.nodeValue="";r.parentNode&&r.parentNode.removeChild(r)}},ha:function(l){return(l=l.match(/^\[ko_memo\:(.*?)\]$/))?l[1]:d}}}();e.b("ko.memoization",e.l);e.b("ko.memoization.memoize",e.l.V);e.b("ko.memoization.unmemoize",e.l.ra);e.b("ko.memoization.parseMemoText",e.l.ha);e.b("ko.memoization.unmemoizeDomNodeAndDescendants",e.l.sa);e.$a=function(j,c){this.za=j;this.n=function(){this.La=!0;c()}.bind(this);e.i(this,"dispose",this.n)};e.Z=function(){var c=[];this.$=function(l,k){var j=k?l.bind(k):l,m=new e.$a(j,function(){e.a.N(c,m)});c.push(m);return m};this.z=function(j){e.a.g(c.slice(0),function(k){k&&k.La!==!0&&k.za(j)})};this.Ja=function(){return c.length};e.i(this,"subscribe",this.$);e.i(this,"notifySubscribers",this.z);e.i(this,"getSubscriptionsCount",this.Ja)};e.ga=function(c){return typeof c.$=="function"&&typeof c.z=="function"};e.b("ko.subscribable",e.Z);e.b("ko.isSubscribable",e.ga);e.A=function(){var c=[];return{ya:function(){c.push([])},end:function(){return c.pop()},ia:function(j){e.ga(j)||a("Only subscribable things can act as dependencies");c.length>0&&c[c.length-1].push(j)}}}();var h={undefined:!0,"boolean":!0,number:!0,string:!0};function i(j,c){return j===d||typeof j in h?j===c:!1}e.s=function(k){function j(){if(arguments.length>0){if(!j.equalityComparer||!j.equalityComparer(c,arguments[0])){c=arguments[0],j.z(c)}return this}else{return e.A.ia(j),c}}var c=k;j.o=e.s;j.H=function(){j.z(c)};j.equalityComparer=i;e.Z.call(j);e.i(j,"valueHasMutated",j.H);return j};e.C=function(c){if(c===d||c===b||c.o===b){return !1}if(c.o===e.s){return !0}return e.C(c.o)};e.D=function(c){if(typeof c=="function"&&c.o===e.s){return !0}if(typeof c=="function"&&c.o===e.j&&c.Ka){return !0}return !1};e.b("ko.observable",e.s);e.b("ko.isObservable",e.C);e.b("ko.isWriteableObservable",e.D);e.Ra=function(j){arguments.length==0&&(j=[]);j!==d&&j!==b&&!("length" in j)&&a(Error("The argument passed when initializing an observable array must be an array, or null, or undefined."));var c=new e.s(j);e.a.g(["pop","push","reverse","shift","sort","splice","unshift"],function(k){c[k]=function(){var l=c(),l=l[k].apply(l,arguments);c.H();return l}});e.a.g(["slice"],function(k){c[k]=function(){var l=c();return l[k].apply(l,arguments)}});c.remove=function(m){for(var l=c(),n=[],p=[],o=typeof m=="function"?m:function(k){return k===m},q=0,s=l.length;q<s;q++){var r=l[q];o(r)?p.push(r):n.push(r)}c(n);return p};c.Va=function(l){if(l===b){var k=c();c([]);return k}if(!l){return[]}return c.remove(function(m){return e.a.h(l,m)>=0})};c.O=function(l){for(var k=c(),m=typeof l=="function"?l:function(o){return o===l},n=k.length-1;n>=0;n--){m(k[n])&&(k[n]._destroy=!0)}c.H()};c.Ca=function(k){if(k===b){return c.O(function(){return !0})}if(!k){return[]}return c.O(function(l){return e.a.h(k,l)>=0})};c.indexOf=function(l){var k=c();return e.a.h(k,l)};c.replace=function(l,k){var m=c.indexOf(l);m>=0&&(c()[m]=k,c.H())};e.i(c,"remove",c.remove);e.i(c,"removeAll",c.Va);e.i(c,"destroy",c.O);e.i(c,"destroyAll",c.Ca);e.i(c,"indexOf",c.indexOf);return c};e.b("ko.observableArray",e.Ra);e.j=function(p,o,m){function c(){e.a.g(y,function(j){j.n()});y=[]}function r(j){c();e.a.g(j,function(k){y.push(k.$(t))})}function t(){if(w&&typeof m.disposeWhen=="function"&&m.disposeWhen()){s.n()}else{try{e.A.ya(),u=m.owner?m.read.call(m.owner):m.read()}finally{var j=e.a.L(e.A.end());r(j)}s.z(u);w=!0}}function s(){if(arguments.length>0){if(typeof m.write==="function"){var j=arguments[0];m.owner?m.write.call(m.owner,j):m.write(j)}else{a("Cannot write a value to a dependentObservable unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.")}}else{return w||t(),e.A.ia(s),u}}var u,w=!1;p&&typeof p=="object"?m=p:(m=m||{},m.read=p||m.read,m.owner=o||m.owner);typeof m.read!="function"&&a("Pass a function that returns the value of the dependentObservable");var v=typeof m.disposeWhenNodeIsRemoved=="object"?m.disposeWhenNodeIsRemoved:d,x=d;if(v){x=function(){s.n()};e.a.p.ba(v,x);var z=m.disposeWhen;m.disposeWhen=function(){return !e.a.P(v)||typeof z=="function"&&z()}}var y=[];s.o=e.j;s.Ia=function(){return y.length};s.Ka=typeof m.write==="function";s.n=function(){v&&e.a.p.ja(v,x);c()};e.Z.call(s);m.deferEvaluation!==!0&&t();e.i(s,"dispose",s.n);e.i(s,"getDependenciesCount",s.Ia);return s};e.j.o=e.s;e.b("ko.dependentObservable",e.j);(function(){function k(l,m,o){o=o||new c;l=m(l);if(!(typeof l=="object"&&l!==d&&l!==b)){return l}var n=l instanceof Array?[]:{};o.save(l,n);j(l,function(p){var q=m(l[p]);switch(typeof q){case"boolean":case"number":case"string":case"function":n[p]=q;break;case"object":case"undefined":var r=o.get(q);n[p]=r!==b?r:k(q,m,o)}});return n}function j(l,m){if(l instanceof Array){for(var n=0;n<l.length;n++){m(n)}}else{for(n in l){m(n)}}}function c(){var l=[],m=[];this.save=function(n,o){var p=e.a.h(l,n);p>=0?m[p]=o:(l.push(n),m.push(o))};this.get=function(n){n=e.a.h(l,n);return n>=0?m[n]:b}}e.oa=function(l){arguments.length==0&&a(Error("When calling ko.toJS, pass the object you want to convert."));return k(l,function(m){for(var n=0;e.C(m)&&n<10;n++){m=m()}return m})};e.toJSON=function(l){l=e.oa(l);return e.a.Y(l)}})();e.b("ko.toJS",e.oa);e.b("ko.toJSON",e.toJSON);e.f={m:function(c){if(c.tagName=="OPTION"){if(c.__ko__hasDomDataOptionValue__===!0){return e.a.e.get(c,e.c.options.W)}return c.getAttribute("value")}else{return c.tagName=="SELECT"?c.selectedIndex>=0?e.f.m(c.options[c.selectedIndex]):b:c.value}},I:function(k,j){if(k.tagName=="OPTION"){switch(typeof j){case"string":case"number":e.a.e.set(k,e.c.options.W,b);"__ko__hasDomDataOptionValue__" in k&&delete k.__ko__hasDomDataOptionValue__;k.value=j;break;default:e.a.e.set(k,e.c.options.W,j),k.__ko__hasDomDataOptionValue__=!0,k.value=""}}else{if(k.tagName=="SELECT"){for(var c=k.options.length-1;c>=0;c--){if(e.f.m(k.options[c])==j){k.selectedIndex=c;break}}}else{if(j===d||j===b){j=""}k.value=j}}}};e.b("ko.selectExtensions",e.f);e.b("ko.selectExtensions.readValue",e.f.m);e.b("ko.selectExtensions.writeValue",e.f.I);e.r=function(){function l(m,n){return m.replace(k,function(o,p){return n[p]})}var k=/\[ko_token_(\d+)\]/g,j=/^[\_$a-z][\_$a-z0-9]*(\[.*?\])*(\.[\_$a-z][\_$a-z0-9]*(\[.*?\])*)*$/i,c=["true","false"];return{F:function(m){m=e.a.k(m);if(m.length<3){return{}}for(var n=[],o=d,p,s=m.charAt(0)=="{"?1:0;s<m.length;s++){var r=m.charAt(s);if(o===d){switch(r){case'"':case"'":case"/":o=s;p=r;break;case"{":o=s;p="}";break;case"[":o=s,p="]"}}else{if(r==p){r=m.substring(o,s+1);n.push(r);var t="[ko_token_"+(n.length-1)+"]",m=m.substring(0,o)+t+m.substring(s+1);s-=r.length-t.length;o=d}}}o={};m=m.split(",");p=0;for(s=m.length;p<s;p++){var t=m[p],u=t.indexOf(":");u>0&&u<t.length-1&&(r=e.a.k(t.substring(0,u)),t=e.a.k(t.substring(u+1)),r.charAt(0)=="{"&&(r=r.substring(1)),t.charAt(t.length-1)=="}"&&(t=t.substring(0,t.length-1)),r=e.a.k(l(r,n)),t=e.a.k(l(t,n)),o[r]=t)}return o},R:function(m){var n=e.r.F(m),o=[],p;for(p in n){var r=n[p],q;q=r;q=e.a.h(c,e.a.k(q).toLowerCase())>=0?!1:q.match(j)!==d;q&&(o.length>0&&o.push(", "),o.push(p+" : function(__ko_value) { "+r+" = __ko_value; }"))}o.length>0&&(m=m+", '_ko_property_writers' : { "+o.join("")+" } ");return m}}}();e.b("ko.jsonExpressionRewriting",e.r);e.b("ko.jsonExpressionRewriting.parseJson",e.r.F);e.b("ko.jsonExpressionRewriting.insertPropertyAccessorsIntoJson",e.r.R);e.c={};e.J=function(l,k,j,c){function m(q){return function(){return p[q]}}function o(){return p}var n=!0,c=c||"data-bind",p;new e.j(function(){var s;if(!(s=typeof k=="function"?k():k)){var r=l.getAttribute(c);try{var t=" { "+e.r.R(r)+" } ";s=e.a.Ha(t,j===d?g:j)}catch(v){a(Error("Unable to parse binding attribute.\nMessage: "+v+";\nAttribute value: "+r))}}p=s;if(n){for(var u in p){e.c[u]&&typeof e.c[u].init=="function"&&(0,e.c[u].init)(l,m(u),o,j)}}for(u in p){e.c[u]&&typeof e.c[u].update=="function"&&(0,e.c[u].update)(l,m(u),o,j)}},d,{disposeWhenNodeIsRemoved:l});n=!1};e.ua=function(k,j){j&&j.nodeType==b&&a(Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node (note: this is a breaking change since KO version 1.05)"));var j=j||g.document.body,c=e.a.da(j,"data-bind");e.a.g(c,function(l){e.J(l,d,k)})};e.b("ko.bindingHandlers",e.c);e.b("ko.applyBindings",e.ua);e.b("ko.applyBindingsToNode",e.J);e.a.g(["click"],function(c){e.c[c]={init:function(l,k,j,m){return e.c.event.init.call(this,l,function(){var n={};n[c]=k();return n},j,m)}}});e.c.event={init:function(l,k,j,c){var m=k()||{},n;for(n in m){(function(){var o=n;typeof o=="string"&&e.a.t(l,o,function(p){var q,r=k()[o];if(r){var s=j();try{q=r.apply(c,arguments)}finally{if(q!==!0){p.preventDefault?p.preventDefault():p.returnValue=!1}}if(s[o+"Bubble"]===!1){p.cancelBubble=!0,p.stopPropagation&&p.stopPropagation()}}})})()}}};e.c.submit={init:function(l,k,j,c){typeof k()!="function"&&a(Error("The value for a submit binding must be a function to invoke on submit"));e.a.t(l,"submit",function(m){var o,n=k();try{o=n.call(c,l)}finally{if(o!==!0){m.preventDefault?m.preventDefault():m.returnValue=!1}}})}};e.c.visible={update:function(l,k){var j=e.a.d(k()),c=l.style.display!="none";if(j&&!c){l.style.display=""}else{if(!j&&c){l.style.display="none"}}}};e.c.enable={update:function(k,j){var c=e.a.d(j());if(c&&k.disabled){k.removeAttribute("disabled")}else{if(!c&&!k.disabled){k.disabled=!0}}}};e.c.disable={update:function(j,c){e.c.enable.update(j,function(){return !e.a.d(c())})}};e.c.value={init:function(l,k,j){var c=["change"],m=j().valueUpdate;m&&(typeof m=="string"&&(m=[m]),e.a.u(c,m),c=e.a.L(c));e.a.g(c,function(n){var o=!1;e.a.Za(n,"after")&&(o=!0,n=n.substring(5));var p=o?function(q){setTimeout(q,0)}:function(q){q()};e.a.t(l,n,function(){p(function(){var q=k(),r=e.f.m(l);e.D(q)?q(r):(q=j(),q._ko_property_writers&&q._ko_property_writers.value&&q._ko_property_writers.value(r))})})})},update:function(l,k){var j=e.a.d(k()),c=e.f.m(l),m=j!=c;j===0&&c!==0&&c!=="0"&&(m=!0);m&&(c=function(){e.f.I(l,j)},c(),l.tagName=="SELECT"&&setTimeout(c,0));l.tagName=="SELECT"&&(c=e.f.m(l),c!==j&&e.a.qa(l,"change"))}};e.c.options={update:function(n,m,l){n.tagName!="SELECT"&&a(Error("options binding applies only to SELECT elements"));var c=e.a.M(e.a.K(n.childNodes,function(j){return j.tagName&&j.tagName=="OPTION"&&j.selected}),function(j){return e.f.m(j)||j.innerText||j.textContent}),o=n.scrollTop,q=e.a.d(m());e.a.Q(n);if(q){var p=l();typeof q.length!="number"&&(q=[q]);if(p.optionsCaption){var r=document.createElement("OPTION");r.innerHTML=p.optionsCaption;e.f.I(r,b);n.appendChild(r)}l=0;for(m=q.length;l<m;l++){var r=document.createElement("OPTION"),t=typeof p.optionsValue=="string"?q[l][p.optionsValue]:q[l],t=e.a.d(t);e.f.I(r,t);var s=p.optionsText;optionText=typeof s=="function"?s(q[l]):typeof s=="string"?q[l][s]:t;if(optionText===d||optionText===b){optionText=""}optionText=e.a.d(optionText).toString();typeof r.innerText=="string"?r.innerText=optionText:r.textContent=optionText;n.appendChild(r)}q=n.getElementsByTagName("OPTION");l=p=0;for(m=q.length;l<m;l++){e.a.h(c,e.f.m(q[l]))>=0&&(e.a.ma(q[l],!0),p++)}if(o){n.scrollTop=o}}}};e.c.options.W="__ko.bindingHandlers.options.optionValueDomData__";e.c.selectedOptions={fa:function(l){for(var k=[],l=l.childNodes,j=0,c=l.length;j<c;j++){var m=l[j];m.tagName=="OPTION"&&m.selected&&k.push(e.f.m(m))}return k},init:function(k,j,c){e.a.t(k,"change",function(){var l=j();e.D(l)?l(e.c.selectedOptions.fa(this)):(l=c(),l._ko_property_writers&&l._ko_property_writers.value&&l._ko_property_writers.value(e.c.selectedOptions.fa(this)))})},update:function(l,k){l.tagName!="SELECT"&&a(Error("values binding applies only to SELECT elements"));var j=e.a.d(k());if(j&&typeof j.length=="number"){for(var c=l.childNodes,m=0,o=c.length;m<o;m++){var n=c[m];n.tagName=="OPTION"&&e.a.ma(n,e.a.h(j,e.f.m(n))>=0)}}}};e.c.text={update:function(k,j){var c=e.a.d(j());if(c===d||c===b){c=""}typeof k.innerText=="string"?k.innerText=c:k.textContent=c}};e.c.html={update:function(k,j){var c=e.a.d(j());e.a.Ya(k,c)}};e.c.css={update:function(l,k){var j=e.a.d(k()||{}),c;for(c in j){if(typeof c=="string"){var m=e.a.d(j[c]);e.a.pa(l,c,m)}}}};e.c.style={update:function(l,k){var j=e.a.d(k()||{}),c;for(c in j){if(typeof c=="string"){var m=e.a.d(j[c]);l.style[c]=m||""}}}};e.c.uniqueName={init:function(j,c){if(c()){j.name="ko_unique_"+ ++e.c.uniqueName.Ba,e.a.S&&j.mergeAttributes(document.createElement("<input name='"+j.name+"'/>"),!1)}}};e.c.uniqueName.Ba=0;e.c.checked={init:function(k,j,c){e.a.t(k,"click",function(){var l;if(k.type=="checkbox"){l=k.checked}else{if(k.type=="radio"&&k.checked){l=k.value}else{return}}var m=j();k.type=="checkbox"&&e.a.d(m) instanceof Array?(l=e.a.h(e.a.d(m),k.value),k.checked&&l<0?m.push(k.value):!k.checked&&l>=0&&m.splice(l,1)):e.D(m)?m()!==l&&m(l):(m=c(),m._ko_property_writers&&m._ko_property_writers.checked&&m._ko_property_writers.checked(l))});k.type=="radio"&&!k.name&&e.c.uniqueName.init(k,function(){return !0})},update:function(k,j){var c=e.a.d(j());if(k.type=="checkbox"){k.checked=c instanceof Array?e.a.h(c,k.value)>=0:c,c&&e.a.S&&k.mergeAttributes(document.createElement("<input type='checkbox' checked='checked' />"),!1)}else{if(k.type=="radio"){k.checked=k.value==c,k.value==c&&(e.a.S||e.a.Ma)&&k.mergeAttributes(document.createElement("<input type='radio' checked='checked' />"),!1)}}}};e.c.attr={update:function(l,k){var j=e.a.d(k())||{},c;for(c in j){if(typeof c=="string"){var m=e.a.d(j[c]);m===!1||m===d||m===b?l.removeAttribute(c):l.setAttribute(c,m.toString())}}}};e.aa=function(){this.renderTemplate=function(){a("Override renderTemplate in your ko.templateEngine subclass")};this.isTemplateRewritten=function(){a("Override isTemplateRewritten in your ko.templateEngine subclass")};this.rewriteTemplate=function(){a("Override rewriteTemplate in your ko.templateEngine subclass")};this.createJavaScriptEvaluatorBlock=function(){a("Override createJavaScriptEvaluatorBlock in your ko.templateEngine subclass")}};e.b("ko.templateEngine",e.aa);e.G=function(){var c=/(<[a-z]+\d*(\s+(?!data-bind=)[a-z0-9\-]+(=(\"[^\"]*\"|\'[^\']*\'))?)*\s+)data-bind=(["'])([\s\S]*?)\5/gi;return{Ga:function(k,j){j.isTemplateRewritten(k)||j.rewriteTemplate(k,function(l){return e.G.Qa(l,j)})},Qa:function(k,j){return k.replace(c,function(l,m,n,o,p,r,q){l=e.r.R(q);return j.createJavaScriptEvaluatorBlock("ko.templateRewriting.applyMemoizedBindingsToNextSibling(function() {                     return (function() { return { "+l+" } })()                 })")+m})},va:function(j){return e.l.V(function(l,k){l.nextSibling&&e.J(l.nextSibling,j,k)})}}}();e.b("ko.templateRewriting",e.G);e.b("ko.templateRewriting.applyMemoizedBindingsToNextSibling",e.G.va);(function(){function j(m,l,n,p,o){var q=e.a.d(p),o=o||{},r=o.templateEngine||c;e.G.Ga(n,r);n=r.renderTemplate(n,q,o);(typeof n.length!="number"||n.length>0&&typeof n[0].nodeType!="number")&&a("Template engine must return an array of DOM nodes");n&&e.a.g(n,function(k){e.l.sa(k,[p])});switch(l){case"replaceChildren":e.a.Xa(m,n);break;case"replaceNode":e.a.ka(m,n);break;case"ignoreTargetNode":break;default:a(Error("Unknown renderMode: "+l))}o.afterRender&&o.afterRender(n,p);return n}var c;e.na=function(k){k!=b&&!(k instanceof e.aa)&&a("templateEngine must inherit from ko.templateEngine");c=k};e.X=function(l,k,m,o,n){m=m||{};(m.templateEngine||c)==b&&a("Set a template engine before calling renderTemplate");n=n||"replaceChildren";if(o){var p=o.nodeType?o:o.length>0?o[0]:d;return new e.j(function(){var q=typeof l=="function"?l(k):l,q=j(o,n,q,k,m);n=="replaceNode"&&(o=q,p=o.nodeType?o:o.length>0?o[0]:d)},d,{disposeWhen:function(){return !p||!e.a.P(p)},disposeWhenNodeIsRemoved:p&&n=="replaceNode"?p.parentNode:p})}else{return e.l.V(function(q){e.X(l,k,m,q,"replaceNode")})}};e.Wa=function(l,k,m,n){return new e.j(function(){var o=e.a.d(k)||[];typeof o.length=="undefined"&&(o=[o]);o=e.a.K(o,function(p){return m.includeDestroyed||!p._destroy});e.a.la(n,o,function(p){var q=typeof l=="function"?l(p):l;return j(d,"ignoreTargetNode",q,p,m)},m)},d,{disposeWhenNodeIsRemoved:n})};e.c.template={update:function(l,k,m,n){k=e.a.d(k());m=typeof k=="string"?k:k.name;if(typeof k.foreach!="undefined"){n=e.Wa(m,k.foreach||[],{templateOptions:k.templateOptions,afterAdd:k.afterAdd,beforeRemove:k.beforeRemove,includeDestroyed:k.includeDestroyed,afterRender:k.afterRender},l)}else{var o=k.data,n=e.X(m,typeof o=="undefined"?n:o,{templateOptions:k.templateOptions,afterRender:k.afterRender},l)}(k=e.a.e.get(l,"__ko__templateSubscriptionDomDataKey__"))&&typeof k.n=="function"&&k.n();e.a.e.set(l,"__ko__templateSubscriptionDomDataKey__",n)}}})();e.b("ko.setTemplateEngine",e.na);e.b("ko.renderTemplate",e.X);e.a.w=function(o,n,m){if(m===b){return e.a.w(o,n,1)||e.a.w(o,n,10)||e.a.w(o,n,Number.MAX_VALUE)}else{for(var o=o||[],n=n||[],c=o,p=n,r=[],q=0;q<=p.length;q++){r[q]=[]}for(var q=0,s=Math.min(c.length,m);q<=s;q++){r[0][q]=q}q=1;for(s=Math.min(p.length,m);q<=s;q++){r[q][0]=q}for(var s=c.length,u,t=p.length,q=1;q<=s;q++){var v=Math.min(t,q+m);for(u=Math.max(1,q-m);u<=v;u++){r[u][q]=c[q-1]===p[u-1]?r[u-1][q-1]:Math.min(r[u-1][q]===b?Number.MAX_VALUE:r[u-1][q]+1,r[u][q-1]===b?Number.MAX_VALUE:r[u][q-1]+1)}}m=o.length;c=n.length;p=[];q=r[c][m];if(q===b){r=d}else{for(;m>0||c>0;){s=r[c][m];u=c>0?r[c-1][m]:q+1;t=m>0?r[c][m-1]:q+1;v=c>0&&m>0?r[c-1][m-1]:q+1;if(u===b||u<s-1){u=q+1}if(t===b||t<s-1){t=q+1}v<s-1&&(v=q+1);u<=t&&u<v?(p.push({status:"added",value:n[c-1]}),c--):(t<u&&t<v?p.push({status:"deleted",value:o[m-1]}):(p.push({status:"retained",value:o[m-1]}),c--),m--)}r=p.reverse()}return r}};e.b("ko.utils.compareArrays",e.a.w);(function(){function c(l,k,j){var m=[],l=e.j(function(){var n=k(j)||[];m.length>0&&e.a.ka(m,n);m.splice(0,m.length);e.a.u(m,n)},d,{disposeWhenNodeIsRemoved:l,disposeWhen:function(){return m.length==0||!e.a.P(m[0])}});return{Oa:m,j:l}}e.a.la=function(p,o,m,u){for(var o=o||[],u=u||{},y=e.a.e.get(p,"setDomNodeChildrenFromArrayMapping_lastMappingResult")===b,x=e.a.e.get(p,"setDomNodeChildrenFromArrayMapping_lastMappingResult")||[],z=e.a.M(x,function(j){return j.wa}),B=e.a.w(z,o),o=[],A=0,C=[],z=[],E=d,D=0,I=B.length;D<I;D++){switch(B[D].status){case"retained":var F=x[A];o.push(F);F.B.length>0&&(E=F.B[F.B.length-1]);A++;break;case"deleted":x[A].j.n();e.a.g(x[A].B,function(j){C.push({element:j,index:D,value:B[D].value});E=j});A++;break;case"added":var G=c(p,m,B[D].value),F=G.Oa;o.push({wa:B[D].value,B:F,j:G.j});for(var G=0,J=F.length;G<J;G++){var H=F[G];z.push({element:H,index:D,value:B[D].value});E==d?p.firstChild?p.insertBefore(H,p.firstChild):p.appendChild(H):E.nextSibling?p.insertBefore(H,E.nextSibling):p.appendChild(H);E=H}}}e.a.g(C,function(j){e.v(j.element)});m=!1;if(!y){if(u.afterAdd){for(D=0;D<z.length;D++){u.afterAdd(z[D].element,z[D].index,z[D].value)}}if(u.beforeRemove){for(D=0;D<C.length;D++){u.beforeRemove(C[D].element,C[D].index,C[D].value)}m=!0}}m||e.a.g(C,function(j){j.element.parentNode&&j.element.parentNode.removeChild(j.element)});e.a.e.set(p,"setDomNodeChildrenFromArrayMapping_lastMappingResult",o)}})();e.b("ko.utils.setDomNodeChildrenFromArrayMapping",e.a.la);e.T=function(){this.q=function(){if(typeof jQuery=="undefined"||!jQuery.tmpl){return 0}if(jQuery.tmpl.tag){if(jQuery.tmpl.tag.tmpl&&jQuery.tmpl.tag.tmpl.open&&jQuery.tmpl.tag.tmpl.open.toString().indexOf("__")>=0){return 3}return 2}return 1}();this.getTemplateNode=function(k){var j=document.getElementById(k);j==d&&a(Error("Cannot find template with ID="+k));return j};var c=RegExp("__ko_apos__","g");this.renderTemplate=function(l,k,j){j=j||{};this.q==0&&a(Error("jquery.tmpl not detected.\nTo use KO's default template engine, reference jQuery and jquery.tmpl. See Knockout installation documentation for more details."));if(this.q==1){return l='<script type="text/html">'+this.getTemplateNode(l).text+"</script>",k=jQuery.tmpl(l,k)[0].text.replace(c,"'"),jQuery.clean([k],document)}if(!(l in jQuery.template)){var m=this.getTemplateNode(l).text;jQuery.template(l,m)}k=[k];k=jQuery.tmpl(l,k,j.templateOptions);k.appendTo(document.createElement("div"));jQuery.fragments={};return k};this.isTemplateRewritten=function(j){if(j in jQuery.template){return !0}return this.getTemplateNode(j).Na===!0};this.rewriteTemplate=function(l,k){var j=this.getTemplateNode(l),m=k(j.text);this.q==1&&(m=e.a.k(m),m=m.replace(/([\s\S]*?)(\${[\s\S]*?}|{{[\=a-z][\s\S]*?}}|$)/g,function(n,o,p){return o.replace(/\'/g,"__ko_apos__")+p}));j.text=m;j.Na=!0};this.createJavaScriptEvaluatorBlock=function(j){if(this.q==1){return"{{= "+j+"}}"}return"{{ko_code ((function() { return "+j+" })()) }}"};this.ta=function(k,j){document.write("<script type='text/html' id='"+k+"'>"+j+"</script>")};e.i(this,"addTemplate",this.ta);this.q>1&&(jQuery.tmpl.tag.ko_code={open:(this.q<3?"_":"__")+".push($1 || '');"})};e.T.prototype=new e.aa;e.na(new e.T);e.b("ko.jqueryTmplTemplateEngine",e.T)})(window);ko.exportSymbol=function(d,e){for(var b=d.split("."),c=window,a=0;a<b.length-1;a++){c=c[b[a]]}c[b[b.length-1]]=e};ko.exportProperty=function(b,c,a){b[c]=a};(function(){function t(g,j){for(var h in j){j.hasOwnProperty(h)&&j[h]&&(g[h]=j[h])}}function x(g,j){var h={};t(h,g);t(h,j);return h}function n(g){if(g&&typeof g==="object"&&g.constructor==(new Date).constructor){return"date"}return typeof g}function o(g,h){g=g||{};if(g.create instanceof Function||g.key instanceof Function||g.arrayChanged instanceof Function){g={"":g}}if(h){g.ignore=i(h.ignore,g.ignore),g.include=i(h.include,g.include),g.copy=i(h.copy,g.copy)}g.ignore=i(g.ignore,f.ignore);g.include=i(g.include,f.include);g.copy=i(g.copy,f.copy);g.mappedProperties={};return g}function i(g,h){g instanceof Array||(g=n(g)==="undefined"?[]:[g]);h instanceof Array||(h=n(h)==="undefined"?[]:[h]);return g.concat(h)}function b(){ko.dependentObservable=function(g,j,h){h=h||{};h.deferEvaluation=!0;g=new H(g,j,h);g.__ko_proto__=H;return g}}function F(j,q,l,u,s,A,N){var y=ko.utils.unwrapObservable(q) instanceof Array,N=N||"";if(ko.mapping.isMapped(j)){var B=ko.utils.unwrapObservable(j)[r],l=x(B,l)}B=function(){return l[s]&&l[s].create instanceof Function};u=u||new c;if(u.get(q)){return j}s=s||"";if(y){var y=[],w=function(g){return g};if(l[s]&&l[s].key){w=l[s].key}var D=function(g){return g};B()&&(D=function(g){return l[s].create({data:g,parent:A})});if(!ko.isObservable(j)){j=ko.observableArray([]),j.mappedRemove=function(g){var h=typeof g=="function"?g:function(k){return k===w(g)};return j.remove(function(k){return h(w(k))})},j.mappedRemoveAll=function(g){var h=G(g,w);return j.remove(function(k){return ko.utils.arrayIndexOf(h,w(k))!=-1})},j.mappedDestroy=function(g){var h=typeof g=="function"?g:function(k){return k===w(g)};return j.destroy(function(k){return h(w(k))})},j.mappedDestroyAll=function(g){var h=G(g,w);return j.destroy(function(k){return ko.utils.arrayIndexOf(h,w(k))!=-1})},j.mappedIndexOf=function(g){var h=G(j(),w),g=w(g);return ko.utils.arrayIndexOf(h,g)},j.mappedCreate=function(g){if(j.mappedIndexOf(g)!==-1){throw Error("There already is an object with the key that you specified.")}g=D(g);j.push(g);return g}}for(var B=G(ko.utils.unwrapObservable(j),w).sort(),C=G(q,w).sort(),B=ko.utils.compareArrays(B,C),C={},L=[],P=0,Q=B.length;P<Q;P++){var M=B[P],E,K=N+"["+P+"]";switch(M.status){case"added":var O=I(ko.utils.unwrapObservable(q),M.value,w);E=ko.utils.unwrapObservable(F(void 0,O,l,u,s,j,K));K=d(ko.utils.unwrapObservable(q),O,C);L[K]=E;C[K]=!0;break;case"retained":O=I(ko.utils.unwrapObservable(q),M.value,w);E=I(j,M.value,w);F(E,O,l,u,s,j,K);K=d(ko.utils.unwrapObservable(q),O,C);L[K]=E;C[K]=!0;break;case"deleted":E=I(j,M.value,w)}y.push({event:M.status,item:E})}j(L);l[s]&&l[s].arrayChanged&&ko.utils.arrayForEach(y,function(g){l[s].arrayChanged(g.event,g.item)})}else{if(a(q)){if(!j){if(B()){return b(),E=l[s].create({data:q,parent:A}),ko.dependentObservable=H,E}else{j={}}}u.save(q,j);e(q,function(h){var k=N.length?N+"."+h:h;if(ko.utils.arrayIndexOf(l.ignore,k)==-1){if(ko.utils.arrayIndexOf(l.copy,k)!=-1){j[h]=q[h]}else{var m=u.get(q[h]);j[h]=m?m:F(j[h],q[h],l,u,h,j,k);l.mappedProperties[k]=!0}}})}else{switch(n(q)){case"function":j=q;break;default:ko.isWriteableObservable(j)?j(ko.utils.unwrapObservable(q)):B()?(b(),j=l[s].create({data:q,parent:A}),ko.dependentObservable=H):j=ko.observable(ko.utils.unwrapObservable(q))}}}return j}function d(g,j,h){for(var l=0,k=g.length;l<k;l++){if(h[l]!==!0&&g[l]==j){return l}}return null}function J(g,j){var h;j&&(h=j(g));n(h)==="undefined"&&(h=g);return ko.utils.unwrapObservable(h)}function I(g,j,h){g=ko.utils.arrayFilter(ko.utils.unwrapObservable(g),function(k){return J(k,h)==j});if(g.length==0){throw Error("When calling ko.update*, the key '"+j+"' was not found!")}if(g.length>1&&a(g[0])){throw Error("When calling ko.update*, the key '"+j+"' was not unique!")}return g[0]}function G(g,h){return ko.utils.arrayMap(ko.utils.unwrapObservable(g),function(j){return h?J(j,h):j})}function e(g,j){if(g instanceof Array){for(var h=0;h<g.length;h++){j(h)}}else{for(h in g){j(h)}}}function a(g){var h=n(g);return h=="object"&&g!==null&&h!=="undefined"}function c(){var g=[],h=[];this.save=function(j,l){var k=ko.utils.arrayIndexOf(g,j);k>=0?h[k]=l:(g.push(j),h.push(l))};this.get=function(j){j=ko.utils.arrayIndexOf(g,j);return j>=0?h[j]:void 0}}ko.mapping={};var r="__ko_mapping__",H=ko.dependentObservable,v={include:["_destroy"],ignore:[],copy:[]},f=v;ko.mapping.fromJS=function(g,j,h){if(arguments.length==0){throw Error("When calling ko.fromJS, pass the object you want to convert.")}var j=o(j),k=F(h,g,j);k[r]=x(k[r],j);return k};ko.mapping.fromJSON=function(g,j){var h=ko.utils.parseJson(g);return ko.mapping.fromJS(h,j)};ko.mapping.isMapped=function(g){return(g=ko.utils.unwrapObservable(g))&&g[r]};ko.mapping.updateFromJS=function(g,h){if(arguments.length<2){throw Error("When calling ko.updateFromJS, pass: the object to update and the object you want to update from.")}if(!g){throw Error("The object is undefined.")}if(!g[r]){throw Error("The object you are trying to update was not created by a 'fromJS' or 'fromJSON' mapping.")}return F(g,h,g[r])};ko.mapping.updateFromJSON=function(g,j,h){j=ko.utils.parseJson(j);return ko.mapping.updateFromJS(g,j,h)};ko.mapping.toJS=function(g,h){f||ko.mapping.resetDefaultOptions();if(arguments.length==0){throw Error("When calling ko.mapping.toJS, pass the object you want to convert.")}if(!(f.ignore instanceof Array)){throw Error("ko.mapping.defaultOptions().ignore should be an array.")}if(!(f.include instanceof Array)){throw Error("ko.mapping.defaultOptions().include should be an array.")}if(!(f.copy instanceof Array)){throw Error("ko.mapping.defaultOptions().copy should be an array.")}h=o(h,g[r]);return ko.mapping.visitModel(g,function(j){return ko.utils.unwrapObservable(j)},h)};ko.mapping.toJSON=function(g,j){var h=ko.mapping.toJS(g,j);return ko.utils.stringifyJson(h)};ko.mapping.defaultOptions=function(){if(arguments.length>0){f=arguments[0]}else{return f}};ko.mapping.resetDefaultOptions=function(){f={include:v.include.slice(0),ignore:v.ignore.slice(0),copy:v.copy.slice(0)}};ko.mapping.visitModel=function(h,k,j){j=j||{};j.visitedObjects=j.visitedObjects||new c;var m,l=ko.utils.unwrapObservable(h);if(a(l)){k(h,j.parentName),m=l instanceof Array?[]:{}}else{return k(h,j.parentName)}j.visitedObjects.save(h,m);var p=j.parentName;e(l,function(g){if(!(j.ignore&&ko.utils.arrayIndexOf(j.ignore,g)!=-1)){var s=l[g],u=j,q=p||"";l instanceof Array?p&&(q+="["+g+"]"):(p&&(q+="."),q+=g);u.parentName=q;if(!(ko.utils.arrayIndexOf(j.copy,g)===-1&&ko.utils.arrayIndexOf(j.include,g)===-1&&l[r]&&l[r].mappedProperties&&!l[r].mappedProperties[g]&&!(l instanceof Array))){switch(n(ko.utils.unwrapObservable(s))){case"object":case"undefined":u=j.visitedObjects.get(s);m[g]=n(u)!=="undefined"?u:ko.mapping.visitModel(s,k,j);break;default:m[g]=k(s,j.parentName)}}}});return m};ko.exportSymbol("ko.mapping",ko.mapping);ko.exportSymbol("ko.mapping.fromJS",ko.mapping.fromJS);ko.exportSymbol("ko.mapping.fromJSON",ko.mapping.fromJSON);ko.exportSymbol("ko.mapping.isMapped",ko.mapping.isMapped);ko.exportSymbol("ko.mapping.defaultOptions",ko.mapping.defaultOptions);ko.exportSymbol("ko.mapping.toJS",ko.mapping.toJS);ko.exportSymbol("ko.mapping.toJSON",ko.mapping.toJSON);ko.exportSymbol("ko.mapping.updateFromJS",ko.mapping.updateFromJS);ko.exportSymbol("ko.mapping.updateFromJSON",ko.mapping.updateFromJSON);ko.exportSymbol("ko.mapping.visitModel",ko.mapping.visitModel)})();if(window.Mums==undefined){window.Mums={}}if(window.Mums.Canvas==undefined){window.Mums.Canvas={}}Mums.Canvas.StrokeWidth=10;Mums.Canvas.CanvasSize=60;Mums.Canvas.StartAngle=Math.PI;Mums.Canvas.StyleInProgress="rgba(150,0,0,0.5)";Mums.Canvas.StyleFinished="rgba(0,70,0,0.5)";Mums.Canvas.Render=function(a,c){var b=Mums.Canvas.StartAngle+c*2*Math.PI;var d=(c>=1)?Mums.Canvas.StyleFinished:Mums.Canvas.StyleInProgress;Mums.Canvas.StrokeArcs(a,b,d)};Mums.Canvas.StrokeArcs=function(a,f,h){var d=a.getContext("2d");d.lineWidth=Mums.Canvas.StrokeWidth;var b=Mums.Canvas.CanvasSize/2;var c=Mums.Canvas.CanvasSize/2;var g=(Mums.Canvas.CanvasSize-Mums.Canvas.StrokeWidth)/2;var e=false;d.clearRect(0,0,a.width,a.height);d.beginPath();d.arc(b,c,g,0,2*Math.PI,e);d.strokeStyle="rgba(0,0,0,0.1)";d.stroke();d.beginPath();d.arc(b,c,g,Mums.Canvas.StartAngle,f,e);d.strokeStyle=h;d.stroke()};if(window.Mums==undefined){window.Mums={}}if(window.Mums.Format==undefined){window.Mums.Format={}}Mums.Format.Percentage=function(a){return Math.floor(a)};Mums.Format.Label=function(a){if(a&&a!=""){return"<strong>Label:</strong> "+a}return""};Mums.Format.PrettySize=function(a){return Mums.Format.FriendlyRate(a,["b","kb","mb","gb"])};Mums.Format.FriendlyRate=function(c,e,a){e=e||["b","kb","Mb","Gb"];a=a||1024;for(var b=0;b<e.length;b++){var d=e[b];if(c<10){if(b==0){return Math.round(c)+d}else{return Math.round(c*10)/10+d}}else{if(c<a){return Math.round(c)+d}}c=c/a}return"0"+e[0]};Mums.Format.PrettySpeed=function(a){return Mums.Format.FriendlyRate(a,["b/s","kb/s","mb/s","gb/s"])};Mums.Format.PrettyEta=function(a){if(!a||a==undefined||a<=0||a==NaN){return""}var c=false;var b="";var d={d:86400,t:3600,m:60,s:1};$.each(d,function(g,f){if(b!=""){return false}if(a>=f){var e=a;if(f>0){e=a/f}if(e>=100){b=""}else{b=Math.floor(e)+g}}});return b};if(window.Mums==undefined){window.Mums={}}if(window.Mums.UTorrent==undefined){window.Mums.UTorrent={}}Mums.UTorrent.Enums={Status:{STARTED:1,CHECKING:2,"CHECK-START":4,CHECKED:8,ERROR:16,PAUSED:32,QUEUED:64,LOADED:128}};Mums.UTorrent.ParseStatus=function(b,a){if(b&Mums.UTorrent.Enums.Status.STARTED){var c=((!(b&Mums.UTorrent.Enums.Status.QUEUED))?" [F]":"");if(b&Mums.UTorrent.Enums.Status.PAUSED){return"Paused"}else{if(a){return"Seeding"+c}}return"Downloading"+c}if(b&Mums.UTorrent.Enums.Status.CHECKING){return"Checking"}if(b&Mums.UTorrent.Enums.Status.ERROR){return"Error"}if(b&Mums.UTorrent.Enums.Status.QUEUED){if(a){return"Queued Seed"}return"Queued Download"}if(a){return"Finished"}return"Stopped"};if(window.Mums==undefined){window.Mums={}}if(window.Mums.Knockout==undefined){window.Mums.Knockout={}}Mums.Knockout.SectionMapping={Sections:{key:function(a){return ko.utils.unwrapObservable(a.Id)},create:function(a){return new Mums.Knockout.GetSectionModel(a)}}};Mums.Knockout.TorrentMapping={Torrents:{key:function(a){return ko.utils.unwrapObservable(a.Hash)}}};Mums.Knockout.GetSectionModel=function(a){ko.mapping.fromJS(a.data,Mums.Knockout.TorrentMapping,this);this.Name=ko.dependentObservable(function(){return Mums.UTorrent.ParseStatus(this.Status(),this.Finished())},this)};Mums.Knockout.CanvasHandler=function(a,c){var b=ko.utils.unwrapObservable(c())/100;Mums.Canvas.Render(a,b)};Mums.Knockout.Init=function(a){ko.bindingHandlers.renderCanvas={init:Mums.Knockout.CanvasHandler,update:Mums.Knockout.CanvasHandler};Mums.Knockout.ViewModel=ko.mapping.fromJS(a,Mums.Knockout.SectionMapping);Mums.Knockout.ViewModel.Finished=ko.dependentObservable(function(){var d=0;var e=this.Sections();for(var b=0;b<e.length;b++){var g=e[b].Torrents();for(var f=0;f<g.length;f++){if(g[f].Percentage()>=100){d++}}}return d},Mums.Knockout.ViewModel);Mums.Knockout.ViewModel.SelectedHash=ko.observable("");ko.applyBindings(Mums.Knockout.ViewModel);Mums.Knockout.ViewModel.SelectedHash($(":hidden[name=Hash]:first").val())};Mums.Knockout.UpdateModel=function(a){if(Mums.Knockout.ViewModel==undefined){Mums.Knockout.Init(a)}ko.mapping.updateFromJS(Mums.Knockout.ViewModel,a)};if(window.Mums==undefined){window.Mums={}}if(window.Mums.Root==undefined){window.Mums.Root={}}Mums.Root.Init=function(){$(document).ready(Mums.Root.Ready)};Mums.Root.RemoveTorrent=function(b){var a=Mums.Root.GetNextWrapper(b);if(a.length==0){a=Mums.Root.GetPrevWrapper(b)}Mums.Root.Ajax($("#removeTorrentLink").attr("href"),{hash:b},function(){Mums.Root.HideTorrentActions()});$(":hidden[name=Hash][value="+b+"]").closest(".torrent-wrapper").fadeOut();Mums.Root.SetCurrWrapper(a)};Mums.Root.Ready=function(){$("#txtAddFile").change(function(){var a=$(this).closest(".addWrapper").find(".labelWrapper").show();$(document).one("mousedown",function(){a.hide()})});$("#txtAddUrl").focus(function(){var a=$(this).closest(".addWrapper").find(".labelWrapper").show();$(document).one("mousedown",function(){a.hide()})});$(".addWrapper a").click(function(a){$(this).closest("form").find(":submit").click();a.preventDefault();return false});$(".labelWrapper").mousedown(function(a){a.stopPropagation()});$("#set-label-link").mousedown(function(a){if($("#set-label-wrapper").is(":visible")){$("#set-label-wrapper").hide()}else{Mums.Root.Ajax("/Root/GetTorrent/",{hash:$("#hdnHash").val()},function(b){var c=b.Label||"";$("#set-label-wrapper").show();$("#set-label-select").val(c).focus()})}a.preventDefault();a.stopPropagation();return false});$("#set-label-wrapper a").click(function(a){var b=$("#set-label-select").val();Mums.Root.Ajax("/Root/SetLabel/",{newLabel:b,hash:$("#hdnHash").val()},function(c){});Mums.Root.HideTorrentActions();a.preventDefault();a.stopPropagation();return false});$("#set-label-wrapper").mousedown(function(a){a.stopPropagation()});$("#removeTorrentLink").mousedown(function(a){var b=$("#hdnHash").val();Mums.Root.RemoveTorrent(b);a.preventDefault();a.stopPropagation();return false});$("#torrent-actions a").not("#set-label-link").not("#set-label-wrapper a").not("#removeTorrentLink").mousedown(function(a){Mums.Root.Ajax($(this).attr("href"),{hash:$("#hdnHash").val()},function(){Mums.Root.HideTorrentActions()});a.preventDefault();a.stopPropagation();return false});$("#torrent-actions a").click(function(a){a.preventDefault();a.stopPropagation();return false});Mums.Root.InitGlobalKeys();Mums.Root.InitTools();Mums.Root.StartPolling()};Mums.Root.GetCurrWrapper=function(a){return $(":hidden[name=Hash][value="+a+"]").closest(".torrent-wrapper")};Mums.Root.GetNextWrapper=function(c){var a=Mums.Root.GetCurrWrapper(c);var b=a.next(".torrent-wrapper");if(b){return b}return a.closest(".section-wrapper").next(".section-wrapper").find(".torrent-wrapper:first")};Mums.Root.GetPrevWrapper=function(c){var a=Mums.Root.GetCurrWrapper(c);var b=a.prev(".torrent-wrapper");if(b){return b}return a.closest(".section-wrapper").prev(".section-wrapper").find(".torrent-wrapper:last")};Mums.Root.SetCurrWrapper=function(a){var b=a.find(":hidden[name=Hash]");if(b.length==1){Mums.Root.HideTorrentActions();Mums.Knockout.ViewModel.SelectedHash(b.val())}};Mums.Root.InitGlobalKeys=function(){$(document).keydown(function(c){switch(c.keyCode){case 13:Mums.Root.TorrentActions(Mums.Knockout.ViewModel.SelectedHash());return false;case 27:Mums.Root.HideTorrentActions();return false;case 38:var b=Mums.Root.GetPrevWrapper(Mums.Knockout.ViewModel.SelectedHash());if(b){Mums.Root.SetCurrWrapper(b);return false}break;case 40:var a=Mums.Root.GetNextWrapper(Mums.Knockout.ViewModel.SelectedHash());if(a){Mums.Root.SetCurrWrapper(a);return false}break;case 46:Mums.Root.RemoveTorrent(Mums.Knockout.ViewModel.SelectedHash());break}})};Mums.Root.InitTools=function(){$("#tools a").click(function(a){var b=$(this);if(confirm("Är du säker?")){Mums.Root.Ajax(b.attr("href"),{},function(){b.fadeOut("fast")})}a.preventDefault();return false})};Mums.Root.StartPolling=function(){Mums.Root.Ajax("/Root/GetTorrents/",{},function(a){Mums.Knockout.UpdateModel(a);setTimeout("Mums.Root.StartPolling()",3000)})};Mums.Root.TorrentActions=function(b){var a=$(".percentage :hidden[value="+b+"]").closest(".percentage");var d=a.position();var c=a.next(".title").find(".label:first").position().left;var e=d.top+a.height()-$("#torrent-actions").height()-5;Mums.Knockout.ViewModel.SelectedHash(b);$("#torrent-actions").css("left",c).css("top",e).fadeIn("fast");$("#hdnHash").val(b);$(document).one("mousedown",function(){Mums.Root.HideTorrentActions()});$("#torrent-actions").find("a:first").focus();return false};Mums.Root.HideTorrentActions=function(){$("#torrent-actions").hide();$("#set-label-wrapper").hide()};Mums.Root.ShowError=function(a,b){if($("#error").length==0){$("<div />").attr("id","error").append("<h5 />").append("<div />").insertAfter("#overlay").append($("<a />").addClass("awesome").attr("href","./").text("Ladda om"))}$("#error h5:first").text(a);$("#error div:first").html(b);$("#overlay, #error").fadeIn("fast")};Mums.Root.Ajax=function(c,b,a){$.post(c,b,function(d){if(d.Ok===false){console.log(d);Mums.Root.ShowError("Kunde inte hämta data","<p><strong>Url: </strong>"+c+"</p><p><strong>ErrorMessage:</strong> "+d.ErrorMessage+"</p>")}else{a(d)}}).error(function(f,d,e){console.log(f);console.log(d);console.log(e);Mums.Root.ShowError("XHR error","<strong>jqXHR status:</strong> "+f.status+"<br /><strong>errorType:</strong> "+d+"<br /><strong>excObj:</strong> "+e)})};